<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="JS," />










<meta name="description" content="ES6let const 见JS进阶  字符串多行字符串 单行字符串  不能换行,需要转义\n 特殊字符要转义\x20 字符串标志符号不能嵌套使用 \&#39;转义单引号,\&quot;转义双引号   多行字符串  使用&quot;&#96;&#96;&#96;&quot;定义得到,只需要转义 1\&#96;,其他可以直接写 支持插值语法 :$&amp;#123;key&amp;#125;  $&amp;#123;&amp;#125;提供了JS环境,可以写JS">
<meta property="og:type" content="article">
<meta property="og:title" content="JS进阶">
<meta property="og:url" content="http://haley06.com/2021/04/27/JS%E8%BF%9B%E9%98%B6/index.html">
<meta property="og:site_name" content="haley">
<meta property="og:description" content="ES6let const 见JS进阶  字符串多行字符串 单行字符串  不能换行,需要转义\n 特殊字符要转义\x20 字符串标志符号不能嵌套使用 \&#39;转义单引号,\&quot;转义双引号   多行字符串  使用&quot;&#96;&#96;&#96;&quot;定义得到,只需要转义 1\&#96;,其他可以直接写 支持插值语法 :$&amp;#123;key&amp;#125;  $&amp;#123;&amp;#125;提供了JS环境,可以写JS">
<meta property="og:locale">
<meta property="article:published_time" content="2021-04-27T00:14:35.000Z">
<meta property="article:modified_time" content="2021-05-04T07:38:49.657Z">
<meta property="article:author" content="haley06">
<meta property="article:tag" content="JS">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://haley06.com/2021/04/27/JS进阶/"/>





  <title>JS进阶 | haley</title>
  








<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">haley</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://haley06.com/2021/04/27/JS%E8%BF%9B%E9%98%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haley">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JS进阶</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-04-27T08:14:35+08:00">
                2021-04-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a><code>ES6</code></h1><h2 id="let-const"><a href="#let-const" class="headerlink" title="let const"></a><code>let const</code></h2><ul>
<li>见<code>JS</code>进阶</li>
</ul>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><h3 id="多行字符串"><a href="#多行字符串" class="headerlink" title="多行字符串"></a>多行字符串</h3><ul>
<li><p>单行字符串</p>
<ul>
<li>不能换行,需要转义<code>\n</code></li>
<li>特殊字符要转义<code>\x20</code></li>
<li>字符串标志符号不能嵌套使用</li>
<li><code>\&#39;</code>转义单引号,<code>\&quot;</code>转义双引号</li>
</ul>
</li>
<li><p>多行字符串</p>
<ul>
<li><p><code>使用&quot;```&quot;定义得到</code>,只需要转义</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\<span class="string">`,其他可以直接写</span></span><br></pre></td></tr></table></figure></li>
<li><p>支持插值语法 :<code>$&#123;key&#125;</code></p>
</li>
<li><p><code>$&#123;&#125;</code>提供了<code>JS</code>环境,可以写<code>JS</code>表达式</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">body</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> str = <span class="string">&quot;hello\012ic\nkt&quot;</span>;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(str);</span></span><br><span class="line"><span class="javascript">      <span class="comment">//   多行字符串</span></span></span><br><span class="line">      str = `hello</span><br><span class="line"><span class="javascript"><span class="number">123</span><span class="string">&quot;sdldj&quot;</span></span></span><br><span class="line">    `;</span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(str);</span></span><br><span class="line"><span class="javascript">      <span class="comment">//   插值语法</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> a = <span class="number">123</span>;</span></span><br><span class="line"><span class="javascript">      str = <span class="string">`<span class="subst">$&#123;a&#125;</span>+1=124`</span>;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(str);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> obj = &#123;</span></span><br><span class="line">        width: 10,</span><br><span class="line">        height: 200,</span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> area = <span class="string">`aera=<span class="subst">$&#123;obj.width&#125;</span>*<span class="subst">$&#123;obj.height&#125;</span>=<span class="subst">$&#123;obj.width * obj.height&#125;</span>`</span>;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(area);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">//处理数据</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> data = [</span></span><br><span class="line"><span class="javascript">        &#123; <span class="attr">title</span>: <span class="string">&quot;英语&quot;</span>, <span class="attr">type</span>: <span class="string">&quot;en&quot;</span> &#125;,</span></span><br><span class="line"><span class="javascript">        &#123; <span class="attr">title</span>: <span class="string">&quot;语文&quot;</span>, <span class="attr">type</span>: <span class="string">&quot;chinese&quot;</span> &#125;,</span></span><br><span class="line"><span class="javascript">        &#123; <span class="attr">title</span>: <span class="string">&quot;数学&quot;</span>, <span class="attr">type</span>: <span class="string">&quot;math&quot;</span> &#125;,</span></span><br><span class="line">      ];</span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> html = <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="javascript">      <span class="comment">//定义字符串</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> data) &#123;</span></span><br><span class="line">        html += `</span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>$&#123;item.title&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>$&#123;item.type&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line">            `;</span><br><span class="line">      &#125;</span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(html);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> app = <span class="built_in">document</span>.getElementById(<span class="string">&quot;app&quot;</span>);</span></span><br><span class="line">      app.innerHTML = html;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="原始-重复字符串"><a href="#原始-重复字符串" class="headerlink" title="原始/重复字符串"></a>原始/重复字符串</h3><ul>
<li><p>原始字符串使用<code>String.raw</code></p>
</li>
<li><p>重复字符串</p>
<ul>
<li>参数是要重复的次数</li>
<li>返回值为重复的结果</li>
<li>对原始字符串没有影响4</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">     <span class="comment">//转义字符串</span></span><br><span class="line">     <span class="keyword">let</span> str = <span class="string">`hello\nic\nkt`</span>;</span><br><span class="line">     <span class="comment">//   这里不让\n生效</span></span><br><span class="line">     <span class="built_in">console</span>.log(str.replace(<span class="regexp">/\n/g</span>, <span class="string">&quot;\\n&quot;</span>));</span><br><span class="line">     <span class="built_in">console</span>.log(str);</span><br><span class="line">     <span class="comment">//原始字符串</span></span><br><span class="line">     <span class="keyword">let</span> str1 = <span class="built_in">String</span>.raw<span class="string">`hello\nic\nkt`</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(str1); <span class="comment">//hello\nic\nkt</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">let</span> str2 = <span class="string">&quot;hello ||&quot;</span>;</span><br><span class="line">     <span class="comment">//重复str2三次</span></span><br><span class="line">     <span class="built_in">console</span>.log(str2.repeat(<span class="number">3</span>));</span><br><span class="line">     <span class="comment">//   实现repeat</span></span><br><span class="line">     <span class="built_in">String</span>.prototype.MyRepeat = <span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123;</span><br><span class="line">       <span class="comment">//this 代表字符串</span></span><br><span class="line">       <span class="comment">// 定义结果字符串</span></span><br><span class="line">       <span class="keyword">let</span> result = <span class="string">&quot;&quot;</span>;</span><br><span class="line">       <span class="comment">//循环拼接</span></span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">         result += <span class="built_in">this</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">     &#125;;</span><br><span class="line">     <span class="built_in">console</span>.log(str2.MyRepeat(<span class="number">4</span>));</span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="字符串位置"><a href="#字符串位置" class="headerlink" title="字符串位置"></a>字符串位置</h3><ul>
<li><code>startWith(str,pos)</code>是否以参数字符串开头</li>
<li><code>endWith(str,pos)</code>是否以参数字符串结尾</li>
<li><code>includes(str,pos)</code> 包含截取位置</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;strange haley&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.length); <span class="comment">//13</span></span><br><span class="line"><span class="comment">//   判断开头</span></span><br><span class="line"><span class="built_in">console</span>.log(str.startsWith(<span class="string">&quot;st&quot;</span>));</span><br><span class="line"><span class="built_in">console</span>.log(str.startsWith(<span class="string">&quot;r&quot;</span>, <span class="number">2</span>)); <span class="comment">//true [</span></span><br><span class="line"><span class="comment">//判断结尾</span></span><br><span class="line"><span class="built_in">console</span>.log(str.endsWith(<span class="string">&quot;ey&quot;</span>));</span><br><span class="line"><span class="built_in">console</span>.log(str.endsWith(<span class="string">&quot;a&quot;</span>, <span class="number">10</span>)); <span class="comment">//true )</span></span><br><span class="line"><span class="comment">//是否包含</span></span><br><span class="line"><span class="built_in">console</span>.log(str.includes(<span class="string">&quot;ley&quot;</span>)); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(str.includes(<span class="string">&quot;str&quot;</span>, <span class="number">5</span>)); <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(str.includes(<span class="string">&quot;tra&quot;</span>, <span class="number">1</span>)); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h2 id="数字拓展"><a href="#数字拓展" class="headerlink" title="数字拓展"></a>数字拓展</h2><p><code>isNaN isFinite isInteger</code></p>
<ul>
<li><p>全局的<code>isNaN</code>用于判断是否<code>NaN</code></p>
<ul>
<li><p><strong>全局的<code>NaN</code>用于</strong>判断的时候会进行类型转化</p>
</li>
<li><p>Number拓展的<code>isNaN</code>不会做类型转化</p>
<ul>
<li>首先必须是数字,否则返回false</li>
<li>如果是<code>NaN</code>返回true,否则返回<code>false</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.isNaN(<span class="string">&quot;a&quot;</span>)<span class="comment">//true</span></span><br><span class="line"><span class="built_in">window</span>.isNaN(<span class="string">&quot;23&quot;</span>);<span class="comment">//false 返回false是因为它不是NaN</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">&quot;23&quot;</span>);<span class="comment">// false 返回false是因为它不是数字</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">&quot;ds&quot;</span>); <span class="comment">//false 理由同上</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">NaN</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过1和0获取0 -0 Infinity -Infinity NaN</span></span><br><span class="line">     <span class="keyword">var</span> num1 = <span class="number">0</span> / <span class="number">2</span>;</span><br><span class="line">     <span class="keyword">var</span> num2 = <span class="number">0</span> / -<span class="number">1</span>;</span><br><span class="line">     <span class="keyword">var</span> num3 = <span class="number">1</span> / <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">var</span> num4 = -<span class="number">1</span> / <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">var</span> num5 = <span class="number">0</span> / <span class="number">0</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(num1, num2, num3, num4, num5);<span class="comment">//0 -0 Infinity -Infinity NaN</span></span><br><span class="line">    </span><br><span class="line"> <span class="comment">//说出结果</span></span><br><span class="line">     <span class="comment">//全局isNaN会做类型转化</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(num4)); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(num5)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">&quot;100.00&quot;</span>)); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">&quot;100abc&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(+<span class="string">&quot;100abc&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;100abc&quot;</span>))); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="built_in">Math</span>.floor(<span class="string">&quot;100abc&quot;</span>))); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="number">1</span> / <span class="number">3</span>)); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="built_in">Math</span>.PI)); <span class="comment">//false</span></span><br><span class="line">    </span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&quot;-------------------------------&quot;</span>);</span><br><span class="line">     <span class="comment">//Number.isNaN不会类型转换</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(num4)); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(num5)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(<span class="string">&quot;100.00&quot;</span>)); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(<span class="string">&quot;100abc&quot;</span>)); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(+<span class="string">&quot;100abc&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(<span class="built_in">parseInt</span>(<span class="string">&quot;100abc&quot;</span>))); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(<span class="built_in">Math</span>.floor(<span class="string">&quot;100abc&quot;</span>))); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(<span class="number">1</span> / <span class="number">3</span>)); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isNaN(<span class="built_in">Math</span>.PI)); <span class="comment">//false</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<ul>
<li><p><code>isFinite</code>用于判断是否有限</p>
<ul>
<li>全局中的<code>isFinite</code>在判断的时候,会进行类型转换</li>
<li><code>Number.isFInite</code>不会类型转换<ul>
<li>必须是数字,否则返回false</li>
<li>有限(能用数字表示不用Infinite表示的数字)返回true,无限返回false</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.MAX_VALUE</span><br><span class="line"><span class="number">1.7976931348623157e+308</span></span><br><span class="line"><span class="built_in">Number</span>.MIN_SAFE_INTEGER</span><br><span class="line">-<span class="number">9007199254740991</span></span><br><span class="line"><span class="number">9007199254740992</span></span><br><span class="line"><span class="number">9007199254740992</span></span><br><span class="line">-<span class="number">9007199254740992</span></span><br><span class="line">-<span class="number">9007199254740992</span></span><br><span class="line"><span class="number">1.7976931348623157e+309</span></span><br><span class="line"><span class="literal">Infinity</span></span><br><span class="line">      <span class="comment">//全局.isNaN会类型转换</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(num4)); <span class="comment">//false</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(num5)); <span class="comment">//false</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="string">&quot;100.00&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="string">&quot;100abc&quot;</span>)); <span class="comment">//false</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(+<span class="string">&quot;100abc&quot;</span>)); <span class="comment">//false</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;100abc&quot;</span>))); <span class="comment">//true</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="built_in">Math</span>.floor(<span class="string">&quot;100abc&quot;</span>))); <span class="comment">//false</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="number">1</span> / <span class="number">3</span>)); <span class="comment">//true</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="built_in">Math</span>.PI)); <span class="comment">//true</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>isInteger</code>判断是否为整型的</p>
<ul>
<li><p>必须是数字,否则返回false</p>
</li>
<li><p>整型返回true,不是返回false</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">    	  <span class="built_in">console</span>.log(<span class="string">&quot;-------------------------------&quot;</span>);</span><br><span class="line">          <span class="comment">//Number.isNaN不会类型转换</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isInteger(num4)); <span class="comment">//false</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isInteger(num5)); <span class="comment">//false</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isInteger(<span class="number">100.0</span>)); <span class="comment">//true</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isInteger(<span class="string">&quot;100.00&quot;</span>)); <span class="comment">//false</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isInteger(<span class="string">&quot;100abc&quot;</span>)); <span class="comment">//false</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isInteger(+<span class="string">&quot;100abc&quot;</span>)); <span class="comment">//false</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isInteger(<span class="built_in">parseInt</span>(<span class="string">&quot;100abc&quot;</span>))); <span class="comment">//true</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isInteger(<span class="built_in">Math</span>.floor(<span class="string">&quot;100abc&quot;</span>))); <span class="comment">//false</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isInteger(<span class="number">1</span> / <span class="number">3</span>)); <span class="comment">//false</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">Number</span>.isInteger(<span class="built_in">Math</span>.PI)); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">## 数学拓展</span><br><span class="line"></span><br><span class="line"><span class="string">``</span><span class="string">`js</span></span><br><span class="line"><span class="string">Math.cbrt:计算一个立方根</span></span><br><span class="line"><span class="string">Math.fround 返回一个数的单精度浮点数形式</span></span><br><span class="line"><span class="string">Math.hypot 返回所有参数的平方和的平方根</span></span><br><span class="line"><span class="string">Math.expm1(x) 返回ex-1</span></span><br><span class="line"><span class="string">Math.log1p(x) 返回1+x的自然对数 如果x小于-1返回NaN</span></span><br><span class="line"><span class="string">Math.log10(x) 返回以10为底的x的对数 如果x小于0 返回NaN</span></span><br><span class="line"><span class="string">Math.log2(x) 返回以2为底的x的对数 如果x小于0,返回NaN</span></span><br><span class="line"><span class="string">三角函数</span></span><br><span class="line"><span class="string">Math.sinh(x) 返回x的双曲正弦</span></span><br><span class="line"><span class="string">Math.cosh(x)  返回x的双曲余弦</span></span><br><span class="line"><span class="string">Math.tanh(x) 返回x的双曲正切</span></span><br><span class="line"><span class="string">Math.asinh(x)  返回x的反双曲正弦</span></span><br><span class="line"><span class="string">Math.acosh(x)  返回x的反双曲余弦</span></span><br><span class="line"><span class="string">Math.atanh(x)  返回x的反双曲正切</span></span><br><span class="line"><span class="string">Math.sign 返回一个数字的标志 用于判断数字范围  =&gt;表示返回值</span></span><br><span class="line"><span class="string">(0,Inifinity]=&gt;1    [-Infinity,0]=&gt;-1    0=&gt;0 -0=&gt;-0   NaN=&gt;NaN</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="对象拓展"><a href="#对象拓展" class="headerlink" title="对象拓展"></a>对象拓展</h2><ul>
<li>Object的方法拓展</li>
</ul>
<h3 id="对象属性"><a href="#对象属性" class="headerlink" title="对象属性"></a>对象属性</h3><p><code>let obj=&#123;&#125;</code></p>
<ul>
<li><p>如果定义的属性名与属性值变量同名,可以省略属性名称及冒号</p>
</li>
<li><p>可以对属性名称书写表达式,通过[]来动态设置属性名称</p>
<ul>
<li>之前可以通过[]获取属性,现在<strong>可以通过[]动态设置属性</strong></li>
</ul>
</li>
<li><p>在对象中定义的方法可以省略冒号以及function</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> color=<span class="string">&#x27;red&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> obj=&#123;</span><br><span class="line">    <span class="comment">//color:color;</span></span><br><span class="line">    color,</span><br><span class="line">    [color]:<span class="number">200</span>,</span><br><span class="line">    [color.toUpperCase()+<span class="string">&#x27;hello&#x27;</span>]:<span class="number">200</span>,</span><br><span class="line">    <span class="function"><span class="title">getColor</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.color;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj)</span><br><span class="line"><span class="comment">/*REDhello: 200</span></span><br><span class="line"><span class="comment">color: &quot;red&quot;</span></span><br><span class="line"><span class="comment">getColor: ƒ getColor()</span></span><br><span class="line"><span class="comment">red: 200*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="is方法"><a href="#is方法" class="headerlink" title="is方法"></a><code>is方法</code></h3><ul>
<li><p>用于判断两个参数是否全等(<code>===</code>)</p>
</li>
<li><p><code>===</code>几个问题</p>
<ul>
<li><p>0 -0之前进行全等判断时候得到的是<strong>true</strong></p>
<p>0与-0之间差了一个符号位,二进制中,存储的数据是不同的</p>
</li>
</ul>
<ul>
<li><code>NaN</code>和<code>NaN</code>在进行全等判断的时候,得到的是false,所有<code>NaN</code>都表示不是一个数字,它们存储地址一样</li>
</ul>
</li>
</ul>
<ul>
<li><p>Object拓展的<code>is(具体比较的是地址)</code>语法</p>
<ul>
<li><p>0与-0可以得到false</p>
</li>
<li><p>在判断<code>NaN</code>时候返回true</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span> / <span class="number">1</span> === -<span class="number">0</span> / <span class="number">1</span>);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> === +<span class="string">&quot;abc&quot;</span>);<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="number">0</span> / <span class="number">1</span>, -<span class="number">0</span> / <span class="number">1</span>));<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="literal">NaN</span>, +<span class="string">&quot;abc&quot;</span>));<span class="comment">//true</span></span><br><span class="line">除此之外 is方法与===符号是一致的</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span>===<span class="number">100.00</span>)<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="number">100</span>,<span class="number">100.00</span>))<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span>===<span class="string">&quot;100&quot;</span>)<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="number">100</span>,<span class="string">&quot;100&quot;</span>))<span class="comment">//false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="assign方法"><a href="#assign方法" class="headerlink" title="assign方法"></a><code>assign</code>方法</h3><ul>
<li><p><code>assign</code>是用于复制对象的,和<code>jQuery,undescore</code>中的extend方法类似</p>
<ul>
<li>使用方式<code>Object.assign(obj,obj1,obj2)</code><ul>
<li>obj:被复制的目标对象   从第二个值开始,都是复制的对象</li>
<li>返回值是目标对象obj <strong>注意: 后面对象中的同名属性会覆盖前面对象中的属性</strong></li>
</ul>
</li>
</ul>
</li>
<li><p><code>assign</code>方法实现是一个浅的复制</p>
<ul>
<li><p>浅复制: 值类型是直接复制,引用类型改变指向,并没有正真复制</p>
</li>
<li><p>深复制: 值类型是直接复制,引用类型也是直接复制,并不是改变指向(函数除外)</p>
<ul>
<li><p>实现<strong>深复制</strong>: <code>JSON.parse(JSON.stringfy)</code>,但是转换<code>json</code>字符串的时候,会过滤掉函数</p>
<p><code>Jquery</code>的<code>extend</code>方法第一个参数传递的true就是深复制</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">        <span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">          color: <span class="string">&quot;red&quot;</span>,</span><br><span class="line">          arr: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">          color: <span class="string">&quot;green&quot;</span>,</span><br><span class="line">          size: &#123;</span><br><span class="line">            width: <span class="number">20</span>,</span><br><span class="line">            height: <span class="number">30</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">let</span> obj3 = &#123;</span><br><span class="line">          color: <span class="string">&quot;blue&quot;</span>,</span><br><span class="line">          num: <span class="number">10</span>,</span><br><span class="line">          arr: [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</span><br><span class="line">          <span class="function"><span class="title">getNum</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.num;</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">//将obj2和obj3中的数据复制给obj1</span></span><br><span class="line">        <span class="keyword">let</span> result = <span class="built_in">Object</span>.assign(obj1, obj2, obj3);</span><br><span class="line">        <span class="built_in">console</span>.log(obj1, obj2, obj3);</span><br><span class="line">  <span class="comment">//结果</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  arr: (3) [4, 5, 6]</span></span><br><span class="line"><span class="comment">  color: &quot;blue&quot;</span></span><br><span class="line"><span class="comment">  getNum: ƒ getNum()</span></span><br><span class="line"><span class="comment">  num: 10</span></span><br><span class="line"><span class="comment">  size:</span></span><br><span class="line"><span class="comment">  height: 30</span></span><br><span class="line"><span class="comment">  width: 20</span></span><br><span class="line"><span class="comment">  </span></span><br><span class="line"><span class="comment">  color: &quot;green&quot;</span></span><br><span class="line"><span class="comment">  size:</span></span><br><span class="line"><span class="comment">  height: 30</span></span><br><span class="line"><span class="comment">  width: 20</span></span><br><span class="line"><span class="comment">  </span></span><br><span class="line"><span class="comment">  arr: (3) [4, 5, 6]</span></span><br><span class="line"><span class="comment">  color: &quot;blue&quot;</span></span><br><span class="line"><span class="comment">  getNum: ƒ getNum()</span></span><br><span class="line"><span class="comment">  num: 10</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">        <span class="comment">//修改属性</span></span><br><span class="line">        <span class="comment">//值类型 修改一个不会影响另外一个</span></span><br><span class="line">        obj1.num = <span class="number">100</span>;</span><br><span class="line">        <span class="comment">//引用类型 修改一个会影响另外一个因为他们指向的同一个地址</span></span><br><span class="line">        obj1.size.width = <span class="number">100</span>;</span><br><span class="line">        obj1.arr[<span class="number">0</span>] = <span class="number">500</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(obj1, obj2, obj3);</span><br><span class="line">  </span><br><span class="line">        <span class="comment">//浅复制具体实现</span></span><br><span class="line">        <span class="built_in">Object</span>.shawdowAssign = <span class="function"><span class="keyword">function</span> (<span class="params">target</span>) </span>&#123;</span><br><span class="line">          <span class="comment">//遍历后边的参数对象</span></span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">let</span> obj <span class="keyword">of</span> <span class="built_in">arguments</span>) &#123;</span><br><span class="line">            <span class="comment">//将obj的属性赋给复制给target</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">              <span class="comment">//复制</span></span><br><span class="line">              target[key] = obj[key];</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">//返回目标对象</span></span><br><span class="line">          <span class="keyword">return</span> target;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">let</span> result1 = <span class="built_in">Object</span>.shawdowAssign(obj1, obj2, obj3);</span><br><span class="line">  </span><br><span class="line">  记得引入Jquery</span><br><span class="line">      &lt;!-- 引入Jquery --&gt;</span><br><span class="line">      &lt;script src=<span class="string">&quot;https://cdn.bootcss.com/jquery/3.4.1/jquery.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">//浅复制使用jQuery</span></span><br><span class="line">        <span class="comment">//   let result=$.extend(obj1,obj2,obj3);</span></span><br><span class="line">        <span class="comment">//深复制使用Jquery</span></span><br><span class="line">        <span class="keyword">let</span> result2 = $.extend(<span class="literal">true</span>, obj1, obj2, obj3);</span><br><span class="line">        <span class="comment">//修改属性</span></span><br><span class="line">        <span class="comment">//值类型 修改一个不会影响另外一个</span></span><br><span class="line">        obj1.num = <span class="number">500</span>;</span><br><span class="line">        <span class="comment">//引用类型 修改一个不会影响另外一个因为他们指向不同地址</span></span><br><span class="line">        obj1.size.width = <span class="number">1000</span>;</span><br><span class="line">        obj1.arr[<span class="number">0</span>] = <span class="number">5000</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(result2, obj1, obj2, obj3);</span><br><span class="line">        <span class="comment">//函数不能深复制</span></span><br><span class="line">        obj1.getNum.deep = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(obj3.getNum.deep); <span class="comment">//hello 函数没有深复制</span></span><br><span class="line">  </span><br><span class="line">        <span class="comment">//深复制2 会过滤掉函数 JSON中没有函数语法</span></span><br><span class="line">        <span class="keyword">var</span> obj4 = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj3));</span><br><span class="line">        <span class="built_in">console</span>.log(obj4); <span class="comment">//没有getnum</span></span><br><span class="line">        obj4.color = <span class="string">&quot;pink&quot;</span>;</span><br><span class="line">        obj3.arr[<span class="number">1</span>] = <span class="number">123</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">111</span>, obj4, obj3);</span><br><span class="line"></span><br><span class="line">## 对象解构</span><br><span class="line"></span><br><span class="line">+ 解析聚合数据的结构</span><br><span class="line"></span><br><span class="line">+ <span class="string">`ES5`</span>的聚合数据:对象,数组</span><br><span class="line"></span><br><span class="line">  + 之前对象中获取数据的方法只能通过**点法**或**中括号**语法</span><br><span class="line">  + 数组获取数据只能通过**中括号**语法</span><br><span class="line"></span><br><span class="line">+ <span class="string">`ES6`</span>中简化数据方式,提供解构语法:对象解构与数组解构</span><br><span class="line"></span><br><span class="line">+ 对象解构</span><br><span class="line"></span><br><span class="line">  + 语法</span><br><span class="line"></span><br><span class="line">    <span class="string">``</span><span class="string">`js</span></span><br><span class="line"><span class="string">    let&#123;key1,key2,...keys&#125;=obj;</span></span><br><span class="line"><span class="string">    //key1 相当于obj.key1 		key2相当于obj.key2 	keys是获取的剩余属性,如果没有剩余属性,获取到的为空对象</span></span><br></pre></td></tr></table></figure>

<ul>
<li>注意:<strong>解构出来的属性,变量一定是和对象中属性同名的</strong></li>
<li>解构问题<ul>
<li>使用<code>var</code>解构会污染全局对象,可以使用let解决</li>
<li>解构出的方法,this将改变</li>
<li>对于引用类型数据,只是指向的改变,对于值类型来说,是正真的复制</li>
<li>前面参数没有对应参数则值是undefined</li>
</ul>
</li>
<li>逆运用:可以通过三个点语法,将一个对象中的数据传递给一个对象字面量中:<code>&#123;keys&#125;</code></li>
<li>注意:由于**var解构出来的数据会创建去全局变量,**工作中常配合模块化使用(想当于局部变量)</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">  	 <span class="comment">//严格模式</span></span><br><span class="line"><span class="meta">      &quot;use strict&quot;</span>; </span><br><span class="line">	<span class="comment">//定义一个对象</span></span><br><span class="line">      <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        name: <span class="number">100</span>,</span><br><span class="line">        color: <span class="string">&quot;red&quot;</span>,</span><br><span class="line">        arr: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">        size: &#123;</span><br><span class="line">          width: <span class="number">100</span>,</span><br><span class="line">          height: <span class="number">200</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">demo</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">this</span>, <span class="string">&quot;demo&quot;</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">//访问数据:每次访问都要访问obj</span></span><br><span class="line">      <span class="built_in">console</span>.log(obj.name);</span><br><span class="line">      <span class="built_in">console</span>.log(obj[<span class="string">&quot;color&quot;</span>]);</span><br><span class="line"></span><br><span class="line">      <span class="comment">//es6解构语法</span></span><br><span class="line">      <span class="keyword">let</span> &#123; name, color, ...shengyu &#125; = obj;</span><br><span class="line">      <span class="comment">//...语法获取剩余属性</span></span><br><span class="line">      <span class="built_in">console</span>.log(name, color, shengyu);</span><br><span class="line"></span><br><span class="line">   	<span class="comment">//问题:</span></span><br><span class="line">      <span class="comment">//var解构会污染全局window</span></span><br><span class="line">      <span class="comment">//   var &#123; name, color, ...shengyu &#125; = obj;</span></span><br><span class="line">      <span class="comment">//解构语法相当于 var name=obj.name</span></span><br><span class="line">      <span class="comment">//   console.log(window.name);//100</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//   解决通过let替换var</span></span><br><span class="line">      <span class="keyword">let</span> &#123; name, color, ...shengyu &#125; = obj;</span><br><span class="line">      <span class="comment">//let相当于 let name=obj.name let不能挂载到window上</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">window</span>.num); <span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line"> 	  obj.demo(); <span class="comment">//this指向obj对象</span></span><br><span class="line">      <span class="comment">//解构方法会发生改变 相当于 let demo=obj.demo;</span></span><br><span class="line">      <span class="keyword">let</span> &#123; num, color, demo, ...keys &#125; = obj;</span><br><span class="line">      demo(); <span class="comment">//this在非严格模式下指向window 严格模式下指向undefined</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//解构值类型的是复制,解构引用类型的是指向改变(引用同一个地址)</span></span><br><span class="line">      <span class="keyword">let</span> &#123; num, color, arr, size, ...keys &#125; = obj;</span><br><span class="line">      <span class="comment">//修改数据</span></span><br><span class="line">      num = <span class="number">200</span>;</span><br><span class="line">      arr[<span class="number">2</span>] = <span class="number">123</span>;</span><br><span class="line">      size.width = <span class="number">500</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(num, arr, size, obj);</span><br><span class="line"></span><br><span class="line">  	<span class="comment">//解构应用</span></span><br><span class="line">      <span class="keyword">let</span> &#123; num, color, demo, ...keys &#125; = obj;</span><br><span class="line">      <span class="keyword">let</span> newObj = &#123; ...keys &#125;;</span><br><span class="line">      <span class="built_in">console</span>.log(newObj); <span class="comment">//&#123;arr: Array(3), size: &#123;…&#125;&#125;</span></span><br><span class="line">      newObj = &#123; color, num, ...keys &#125;;</span><br><span class="line">      <span class="built_in">console</span>.log(newObj); <span class="comment">//&#123;color: &quot;red&quot;, num: 100, arr: Array(3), size: &#123;…&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//注意上边num,color和obj是对象的省略语法(属性与属性值同名时候可用一个num代替),...keys是解构的逆应用,...keys写在左边为给keys得到数据,写在右边为给对象添加keys的数据</span></span><br><span class="line">      newObj = &#123; <span class="attr">num</span>: num, <span class="attr">newcolor</span>: color, ...keys &#125;;</span><br><span class="line">      <span class="built_in">console</span>.log(newObj);<span class="comment">//&#123;num: 100, newcolor: &quot;red&quot;, arr: Array(3), size: &#123;…&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//解构不存在的属性是undefined</span></span><br><span class="line">	<span class="keyword">let</span> &#123;abc&#125; =obj;</span><br><span class="line">	<span class="comment">//等价于</span></span><br><span class="line">	<span class="keyword">var</span> abc=obj.abc;</span><br><span class="line">	<span class="built_in">console</span>.log(abc)<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="数组拓展"><a href="#数组拓展" class="headerlink" title="数组拓展"></a>数组拓展</h2><h3 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a><code>Array.from()</code></h3><ul>
<li><p>from方法用于遍历类数组对象,获将类数组对象转化为数组,是数组的静态方法</p>
<ul>
<li><strong>类数组对象</strong>:可以通过索引值获取属性值,并且要具备length的一类对象</li>
</ul>
</li>
<li><p><strong>类数组对象不能使用数组的迭代器方法,</strong><code>es6</code>的from可以将数组对象转为真正的数组,之后就可以使用数组的常用方法</p>
<ul>
<li><p>使用方式: <code>Array.from(arrLike,fn)</code></p>
<ul>
<li>arr:类数组对象</li>
<li><code>fn</code>:执行的函数,有两个参数:<strong>成员值,索引值</strong>,this是默认执行window</li>
<li>如果传递的<code>fn</code>参数,此时,<strong><code>fn</code>方法返回值是from函数的执行结果</strong></li>
</ul>
</li>
<li><p>总结:<strong>from方法不仅可以将类数组转为数组,还可以遍历类数组对象</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>1-1-1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>2-2-2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>3-3-3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>4-4-4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>5-5-5<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//  获取div</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;div&quot;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// div是类数组对象</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(div);</span></span><br><span class="line"><span class="javascript">    <span class="comment">//   将类数组对象转成数组</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arrdiv = <span class="built_in">Array</span>.from(div);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(arrdiv);</span></span><br><span class="line"><span class="javascript">    <span class="comment">//   arrdiv.forEach(() =&gt; console.log(arguments));箭头函数没有arguments这个参数</span></span></span><br><span class="line"><span class="javascript">    arrdiv.forEach(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span></span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line"><span class="javascript">    <span class="comment">//from的返回值为fn的返回值 遍历类数组对象</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arrdiv2 = <span class="built_in">Array</span>.from(div, <span class="function"><span class="keyword">function</span> (<span class="params">item, index</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="number">111</span>, <span class="built_in">arguments</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// 返回值影响from方法的结果</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> index;</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(arrdiv2);<span class="comment">//[0, 1, 2, 3, 4]</span></span></span><br><span class="line">      </span><br><span class="line"><span class="javascript">       <span class="comment">//实现from</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">Array</span>.myArrayFrom = <span class="function"><span class="keyword">function</span> (<span class="params">arrLike, fn</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">//定义返回的数组</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> result = [];</span></span><br><span class="line"><span class="javascript">      <span class="comment">//遍历类数组对象 不能使用for of arrLike没有迭代器,in会把arrlike的length,迭代器也遍历,所以只用原始遍历</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arrLike.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//   判断是否传递fn</span></span></span><br><span class="line">        if (fn) &#123;</span><br><span class="line"><span class="javascript">          <span class="comment">//传递fn 存储fn执行结果</span></span></span><br><span class="line">          result.push(fn(arrLike[i], i));</span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">//没有传递fn,直接存储成员</span></span></span><br><span class="line">          result.push(arrLike[i]);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> result;</span></span><br><span class="line">    &#125;;</span><br><span class="line"><span class="javascript">    <span class="comment">//   使用</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr2 = <span class="built_in">Array</span>.myArrayFrom(div, <span class="function"><span class="keyword">function</span> (<span class="params">item, index</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      item.innerHTML = <span class="string">&quot;my-&quot;</span> + index;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> item;</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(arr2);<span class="comment">// [div, div, div, div, div]</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of()"></a><code>Array.of()</code></h3><ul>
<li><p><code>of</code>方法用于创建数组,是数组的一个静态方法</p>
</li>
<li><p>之前通过<code>new Array()</code>或是<code>Array()</code>创建数组有问题</p>
<ul>
<li>如果没有传递参数,得到空数组</li>
<li>传递一个数字参数,得到的是带有一个<strong>长度</strong>的空数组</li>
<li>传递一个非数字参数,得到一个有一个成员的数组</li>
<li>传递多个非数字参数,得到一个带有多个参数的数组</li>
</ul>
</li>
<li><p><code>es6</code>的of方法可以实现将所有传递的参数作为数组中的成员存在</p>
</li>
<li><p>创建数组四种方式</p>
<ul>
<li><p>字面量</p>
</li>
<li><p><code>new Array()</code></p>
</li>
<li><p>工厂法 <code>Array</code></p>
</li>
<li><p><code>Array.of()</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> arr1 = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">   <span class="keyword">let</span> arr2 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">   <span class="keyword">let</span> arr3 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3</span>);</span><br><span class="line">   <span class="keyword">let</span> arr4 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>);</span><br><span class="line">   <span class="built_in">console</span>.log(arr1, arr2, arr3, arr4);</span><br><span class="line">    </span><br><span class="line">   <span class="keyword">let</span> arr1 = <span class="built_in">Array</span>.of();</span><br><span class="line">   <span class="keyword">let</span> arr2 = <span class="built_in">Array</span>.of(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">   <span class="keyword">let</span> arr3 = <span class="built_in">Array</span>.of(<span class="number">3</span>);</span><br><span class="line">   <span class="keyword">let</span> arr4 = <span class="built_in">Array</span>.of(<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>);</span><br><span class="line">   <span class="built_in">console</span>.log(arr1, arr2, arr3, arr4);</span><br><span class="line">    </span><br><span class="line"><span class="comment">//   实现方法</span></span><br><span class="line">   <span class="built_in">Array</span>.myof = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="comment">// console.log(arguments);</span></span><br><span class="line">     <span class="comment">// return Array.from(arguments);//会返回一个有具体值的数组</span></span><br><span class="line">     <span class="comment">// 兼容ie5</span></span><br><span class="line">     <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="comment">//方法实现</span></span><br><span class="line">   <span class="keyword">let</span> arr1 = <span class="built_in">Array</span>.myof();</span><br><span class="line">   <span class="keyword">let</span> arr2 = <span class="built_in">Array</span>.myof(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">   <span class="keyword">let</span> arr3 = <span class="built_in">Array</span>.myof(<span class="number">3</span>);</span><br><span class="line">   <span class="keyword">let</span> arr4 = <span class="built_in">Array</span>.myof(<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>);</span><br><span class="line">   <span class="built_in">console</span>.log(arr1, arr2, arr3, arr4);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="数组查找"><a href="#数组查找" class="headerlink" title="数组查找"></a>数组查找</h3><ul>
<li><p><code>ES5</code>中拓展了查找成员的方法:<code>indexOf,lastIndexOf</code></p>
</li>
<li><p><code>ES6</code>中拓展了查找成员的方法:<code>find findIndex</code></p>
<ul>
<li>参数就是执行的函数</li>
<li>函数中有三个参数:成员值,索引值,原数组;this默认指向window</li>
</ul>
</li>
<li><p><code>find</code>方法在查找成员的时候,如果找到了则<strong>返回该成员</strong>,如果<strong>没有找到则返回undefined</strong></p>
</li>
<li><p><code>findIndex</code>方法在查找成员的时候,<strong>找到了返回该成员索引值</strong>,**没有找到返回-1,**在查找过程中,一旦找到停止遍历</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>];</span><br><span class="line"><span class="comment">//查找成员</span></span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">  arr.indexOf(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//该函数不会执行</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1111</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">); <span class="comment">//-1</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.indexOf(<span class="number">5</span>)); <span class="comment">//4</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//find中的函数可以执行 查找成员值</span></span><br><span class="line"><span class="keyword">let</span> result = arr.find(<span class="function"><span class="keyword">function</span> (<span class="params">item, index, arr</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>, <span class="built_in">this</span>);</span><br><span class="line">  <span class="comment">//判断偶数</span></span><br><span class="line">  <span class="keyword">return</span> item % <span class="number">2</span> === <span class="number">0</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//2 </span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//find中的函数可以执行 查找满足条件的索引值</span></span><br><span class="line"><span class="keyword">let</span> result1 = arr.findIndex(<span class="function"><span class="keyword">function</span> (<span class="params">item, index, arr</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>, <span class="built_in">this</span>);</span><br><span class="line">  <span class="comment">//判断偶数</span></span><br><span class="line">  <span class="keyword">return</span> item % <span class="number">2</span> === <span class="number">0</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(result1); <span class="comment">//1</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="数组内部复制"><a href="#数组内部复制" class="headerlink" title="数组内部复制"></a>数组内部复制</h3><p><code>copyWithin(pos,start,end)</code>实现数组内部复制成员的方法</p>
<ul>
<li><p><code>pos</code>:要粘贴的位置</p>
</li>
<li><p><code>start</code>:要复制的起始位置(包含起始)</p>
</li>
<li><p><code>end:</code>要复制的结束位置(不包含结束位置)</p>
</li>
<li><p>返回值是原生数组,并且原数组发生变化</p>
<p>例如</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>].copyWithin(<span class="number">3</span>,<span class="number">6</span>,<span class="number">9</span>);</span><br><span class="line">result: [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="迭代器接口"><a href="#迭代器接口" class="headerlink" title="迭代器接口"></a>迭代器接口</h3><ul>
<li><p>遍历数组成员，拓展了迭代器方法：<code>keys,values,entries</code></p>
<ul>
<li>key:获取索引值</li>
<li>values:获取成员值</li>
<li>entries:获取索引值和成员值:[index,item]</li>
<li>返回迭代器</li>
</ul>
</li>
<li><p>由于实现了<strong>数组迭代器接口</strong>方法,可以使用<strong>for of</strong>或<code>**next()**</code>方法遍历</p>
</li>
<li><p>实现了迭代器接口的数据,都有<code>next()</code>方法,可以通过<code>next</code>方法遍历成员</p>
<ul>
<li>返回值是一个对象<ul>
<li>value:成员值   done:表示是否遍历完成</li>
<li>如果遍历完成,done由于是true  value永远是undefined</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&quot;red&quot;</span>, <span class="string">&quot;green&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;orange&quot;</span>, <span class="string">&quot;pink&quot;</span>];</span><br><span class="line">      <span class="comment">//keys获取索引值迭代器</span></span><br><span class="line">      <span class="keyword">let</span> result = arr.keys();</span><br><span class="line">      <span class="comment">//创建迭代器</span></span><br><span class="line">      <span class="built_in">console</span>.log(result);</span><br><span class="line">      <span class="comment">//   遍历每一个成员</span></span><br><span class="line">      <span class="built_in">console</span>.log(result.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result.next());</span><br><span class="line"></span><br><span class="line">      <span class="comment">//values获取成员值迭代器</span></span><br><span class="line">      <span class="keyword">let</span> result2 = arr.values();</span><br><span class="line">      <span class="comment">//创建迭代器</span></span><br><span class="line">      <span class="built_in">console</span>.log(result2);</span><br><span class="line">      <span class="comment">//   遍历每一个成员</span></span><br><span class="line">      <span class="built_in">console</span>.log(result2.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result2.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result2.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result2.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result2.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result2.next());</span><br><span class="line"></span><br><span class="line">      <span class="comment">//entries获取索引值和成员值迭代器</span></span><br><span class="line">      result2 = arr.entries();</span><br><span class="line">      <span class="comment">//创建迭代器</span></span><br><span class="line">      <span class="built_in">console</span>.log(result2);</span><br><span class="line">      <span class="comment">//   遍历每一个成员</span></span><br><span class="line">      <span class="built_in">console</span>.log(result2.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result2.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result2.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result2.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result2.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result2.next());</span><br><span class="line"></span><br><span class="line">      <span class="comment">//一旦遍历完成要重新创建</span></span><br><span class="line">      <span class="keyword">let</span> result3 = arr.values();</span><br><span class="line">      <span class="built_in">console</span>.log(result3.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result3.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result3.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result3.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result3.next());</span><br><span class="line">      <span class="built_in">console</span>.log(result3.next());</span><br><span class="line"></span><br><span class="line">      <span class="comment">//   还可以使用for-of方法</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> arr) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(value);</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="for-of"><a href="#for-of" class="headerlink" title="for of"></a><code>for of</code></h3><ul>
<li><p>实现迭代器接口设置的遍历方法:语法:<code>for(let i of data)&#123;&#125;</code></p>
</li>
<li><p>可以像其他循环一样在内部使用continue,break等关键字</p>
</li>
<li><p>也可以遍历数组，但是不能得到索引值</p>
<ul>
<li><p>遍历数组时候，item表示每一个成员，没有办法访问索引值，但是可以在外部定义</p>
<p>一个循环变量，循环体中手动更新，<code>for-of</code>循环遍历数组不需要通过索引访问成员值,而for循环以及for in循环通过索引值访问</p>
</li>
</ul>
</li>
<li><p><code>for-in</code>也可以遍历数组,但有些问题</p>
<ul>
<li>遍历时显示的是字符串,不是数字</li>
</ul>
</li>
<li><p><code>for-in</code>用于遍历数组,遍历对象,<code>for-of</code>用于遍历迭代器对象(<code>arr.values/entries/keys</code>),迭代器接口对象(包括数组,类数组),<code>for</code>用于遍历数组或类数组对象</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">     <span class="keyword">let</span> arr = [<span class="string">&quot;red&quot;</span>, <span class="string">&quot;green&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;orange&quot;</span>, <span class="string">&quot;pink&quot;</span>];</span></span><br><span class="line"><span class="javascript">     <span class="keyword">let</span> result = arr.values(); <span class="comment">//获取到值迭代器对象</span></span></span><br><span class="line"><span class="javascript">     <span class="comment">//迭代器接口对象,for循环无法遍历 因为它没有length属性</span></span></span><br><span class="line"><span class="javascript">     <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; result.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(result[i]);</span></span><br><span class="line">     &#125;</span><br><span class="line"><span class="javascript">     <span class="comment">//for -in循环也无法遍历迭代器接口对象  不能枚举</span></span></span><br><span class="line"><span class="javascript">     <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">in</span> result) &#123;</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(item);</span></span><br><span class="line">     &#125;</span><br><span class="line">  </span><br><span class="line"><span class="javascript">     <span class="comment">//for-of循环专门遍历迭代器接口对象和实现迭代器接口的对象(数组,类数组),for-in循环用于遍历对象</span></span></span><br><span class="line"><span class="javascript">     <span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> result) &#123;</span></span><br><span class="line"><span class="javascript">       <span class="comment">//遍历到blue跳过</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">// if (value == &quot;blue&quot;) &#123;</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">//   continue;</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(value);</span></span><br><span class="line">  </span><br><span class="line"><span class="javascript">       <span class="comment">//遍历到blue停止</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">// if (value == &quot;blue&quot;) &#123;</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">//   break;</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">// &#125;</span></span></span><br><span class="line">     &#125;</span><br><span class="line"><span class="javascript">     <span class="comment">//迭代器对象一旦遍历完成就无法遍历了</span></span></span><br><span class="line"><span class="javascript">     <span class="keyword">for</span> (<span class="keyword">const</span> value <span class="keyword">of</span> result) &#123;</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="number">222</span>, value);</span></span><br><span class="line">     &#125;</span><br><span class="line">  </span><br><span class="line"><span class="javascript">     <span class="comment">//数组迭代器对象可以多次遍历 因为它实现迭代器接口,但它不是对象</span></span></span><br><span class="line"><span class="javascript">     <span class="built_in">console</span>.log(<span class="built_in">Array</span>.prototype);</span></span><br><span class="line"><span class="javascript">     <span class="keyword">for</span> (<span class="keyword">const</span> value <span class="keyword">of</span> arr) &#123;</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(value);</span></span><br><span class="line">     &#125;</span><br><span class="line"><span class="javascript">     <span class="keyword">for</span> (<span class="keyword">const</span> value <span class="keyword">of</span> arr) &#123;</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(value);</span></span><br><span class="line">     &#125;</span><br><span class="line"><span class="javascript">     <span class="comment">//无法访问索引值</span></span></span><br><span class="line"><span class="javascript">     <span class="keyword">var</span> index = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">     <span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> arr) &#123;</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(value, index);</span></span><br><span class="line"><span class="javascript">       <span class="comment">//与while循环类似,手动更新索引值</span></span></span><br><span class="line">       index++;</span><br><span class="line">     &#125;</span><br><span class="line">  </span><br><span class="line"><span class="javascript">     <span class="comment">//for-in循环遍历数组会改变索引值类型</span></span></span><br><span class="line"><span class="javascript">     <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> arr) &#123;</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="keyword">typeof</span> key);<span class="comment">//string</span></span></span><br><span class="line">     &#125;</span><br><span class="line">   <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="数组解构"><a href="#数组解构" class="headerlink" title="数组解构"></a>数组解构</h3><p>语法:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [item1,item2,...items]=arr;</span><br><span class="line"><span class="comment">//item1表示第一个成员  item2表示第二个成员  items表示剩余成员</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>注意:</p>
<ul>
<li> 如果使用var解构,会污染全局对象(window),可以通过let关键字解决</li>
<li>items后有剩余成员返回该成员以数组,没有返回空数组</li>
</ul>
</li>
<li><p>获取剩余成员的语法</p>
<ul>
<li>如果数组有剩余成员,获取到的是数组中所有的剩余成员</li>
<li>没有剩余成员,获取到的是一个空数组</li>
<li>前面解构的变量,可以正常使用</li>
<li>数组解构中获取数据成员的三个点语法在等号左侧,逆</li>
</ul>
</li>
<li><p>逆应用: 可以通过三个点语法,将一个数组中的数据传到一个数组字面量中,<code>[...arr]</code>(复制数组)</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">let</span> arr = [</span><br><span class="line">      <span class="string">&quot;red&quot;</span>,</span><br><span class="line">      <span class="string">&quot;green&quot;</span>,</span><br><span class="line">      <span class="string">&quot;pink&quot;</span>,</span><br><span class="line">      <span class="string">&quot;orange&quot;</span>,</span><br><span class="line">      <span class="string">&quot;gold&quot;</span>,</span><br><span class="line">      <span class="string">&quot;yellow&quot;</span>,</span><br><span class="line">      <span class="string">&quot;purple&quot;</span>,</span><br><span class="line">      <span class="string">&quot;gray&quot;</span>,</span><br><span class="line">    ];</span><br><span class="line">    <span class="comment">//访问成员</span></span><br><span class="line">    <span class="built_in">console</span>.log(arr[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">console</span>.log(arr[<span class="number">1</span>]);</span><br><span class="line">    <span class="built_in">console</span>.log(arr.slice(<span class="number">2</span>)); <span class="comment">//截取索引2后所有</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//解构语法</span></span><br><span class="line">    <span class="keyword">let</span> [red, green, ...items] = arr;</span><br><span class="line">    <span class="built_in">console</span>.log(red);</span><br><span class="line">    <span class="built_in">console</span>.log(green);</span><br><span class="line">    <span class="built_in">console</span>.log(items);</span><br><span class="line">    <span class="comment">//var解构污染window</span></span><br><span class="line">    <span class="keyword">var</span> [red, green, ...items] = arr;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">window</span>.red);<span class="comment">//red</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* //var解构污染window</span></span><br><span class="line"><span class="comment">    var [red, green, ...items] = arr;</span></span><br><span class="line"><span class="comment">    console.log(window.red);//red */</span></span><br><span class="line">    <span class="comment">//用let代替var let声明的变量不会挂载到window上</span></span><br><span class="line">    <span class="keyword">let</span> [red, ...items] = arr;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">window</span>.red);<span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>];</span><br><span class="line">    <span class="keyword">let</span> [a, b, ...items2] = arr2;</span><br><span class="line">    <span class="built_in">console</span>.log(items2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//复制数组</span></span><br><span class="line">    <span class="comment">//...items也可以放在中间</span></span><br><span class="line">    <span class="keyword">let</span> newArray = [red, green, ...items];</span><br><span class="line">    <span class="keyword">let</span> newArray2 = [red, ...items, green];</span><br><span class="line">    <span class="built_in">console</span>.log(newArray);</span><br><span class="line">    <span class="built_in">console</span>.log(newArray2);</span><br><span class="line">    <span class="keyword">let</span> newArray3 = [...items];</span><br><span class="line">    <span class="built_in">console</span>.log(newArray3, items, newArray3 == items);<span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<p><strong>解构总结</strong></p>
<ul>
<li>解构指等号左侧部分</li>
<li>逆运用指等号右侧部分<ul>
<li>复制数据</li>
</ul>
</li>
<li>对象解构:属性名匹配名称,数组解构,位置对应</li>
</ul>
<h2 id="generator函数"><a href="#generator函数" class="headerlink" title="generator函数"></a>generator函数</h2><h3 id="简单使用"><a href="#简单使用" class="headerlink" title="简单使用"></a>简单使用</h3><ul>
<li><p>generator函数为处理异步编程提供了解决方法(异步函数),内部封装了大量状态,允许我们逐条遍历</p>
</li>
<li><p>语法  <code>function *demo()&#123;函数中定义状态&#125; </code></p>
<ul>
<li><p>在函数内部通过<code>yield</code>关键字定义状态.yield表示暂停意思</p>
<p>==<code>yield</code>只能出现在generator函数中==</p>
</li>
<li><p>通过return定义最后一个状态,return后面状态不会执行</p>
</li>
<li><p><strong>generator函数返回值实现了next方法</strong>,因此可以通过next方法逐条遍历内部状态</p>
</li>
<li><p>next方法返回值为一个对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    done:表示是否遍历完成,<span class="literal">false</span>/<span class="literal">true</span></span><br><span class="line">    value:表示状态值  undefiend/状态值</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>generator函数返回值也实现了迭代器接口,可以通过<code>for-of</code>方式遍历内部状态</p>
</li>
<li><p><strong>不能同时使用两种方式遍历内部状态</strong>,因为一方遍历完成,另一方就得不到状态了</p>
</li>
<li><p>当generator函数遍历完成后,此时它的状态变为closed</p>
</li>
<li><p>当generator函数没有遍历完成时,它的状态变为suspended</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//yield只能用在generator函数中</span></span><br><span class="line">      <span class="comment">//generator函数就是在普通函数名前加*</span></span><br><span class="line">      <span class="comment">//函数可以使用表达式和声明(多用)</span></span><br><span class="line">      <span class="comment">//调用方式与普通函数相同 下边4种都可以,多用第一种定义generator函数</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// function *demo()&#123;&#125;</span></span><br><span class="line">      <span class="comment">// function*demo()&#123;&#125;</span></span><br><span class="line">      <span class="comment">// function* demo()&#123;&#125;</span></span><br><span class="line">      <span class="comment">// function * demo()&#123;&#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//使用yield</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span>* <span class="title">demo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&quot;起床&quot;</span>;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&quot;吃饭&quot;</span>;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&quot;上课&quot;</span>;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&quot;吃饭&quot;</span>;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&quot;睡觉&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;进入梦乡&quot;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//执行</span></span><br><span class="line">      <span class="keyword">var</span> g = demo();</span><br><span class="line">      <span class="built_in">console</span>.log(g);</span><br><span class="line">      <span class="comment">//通过next方法遍历</span></span><br><span class="line">      <span class="built_in">console</span>.log(g.next());</span><br><span class="line">      <span class="built_in">console</span>.log(g.next());</span><br><span class="line">      <span class="built_in">console</span>.log(g.next());</span><br><span class="line">      <span class="built_in">console</span>.log(g.next());</span><br><span class="line">      <span class="built_in">console</span>.log(g.next());</span><br><span class="line">      <span class="built_in">console</span>.log(g.next());</span><br><span class="line">      <span class="built_in">console</span>.log(g.next());</span><br><span class="line">      <span class="comment">//想再次遍历需要重新执行</span></span><br><span class="line">      <span class="keyword">var</span> g = demo();</span><br><span class="line">      <span class="built_in">console</span>.log(g.next());</span><br><span class="line">      <span class="built_in">console</span>.log(g.next());</span><br><span class="line">      <span class="built_in">console</span>.log(g.next());</span><br><span class="line">      <span class="built_in">console</span>.log(g.next());</span><br><span class="line">      <span class="built_in">console</span>.log(g.next());</span><br><span class="line"></span><br><span class="line">      <span class="comment">//实现了迭代器接口,使用for-of</span></span><br><span class="line">      <span class="comment">//注意for of无法遍历return的数据</span></span><br><span class="line">      <span class="keyword">var</span> g3 = demo();</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> g3) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(item);</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      <span class="comment">//异步完成</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span>* <span class="title">myG</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//到这暂停使用next遍历时</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="number">111</span>);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">yield</span> <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="number">222</span>);</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">        <span class="keyword">yield</span> <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="number">333</span>);</span><br><span class="line">        &#125;, <span class="number">3000</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//执行</span></span><br><span class="line">      <span class="keyword">var</span> g = myG();</span><br><span class="line">      g.next();</span><br><span class="line">      g.next();</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="generator数据传递"><a href="#generator数据传递" class="headerlink" title="generator数据传递"></a>generator数据传递</h3><ul>
<li>generator函数中数据传递有两个方向<ul>
<li>数据由generator函数内部流向外部<ul>
<li>通过yield表达式定义状态值</li>
<li>在外部通过next方法返回的对象中的value属性获取</li>
</ul>
</li>
<li>数据由generator函数外部留向内部<ul>
<li>在外部通过next方法传递数据</li>
<li>在内部通过yield表达式接收数据</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义generator函数</span></span><br><span class="line"><span class="comment">//内部向外部传递数据</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">demo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&quot;red&quot;</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&quot;green&quot;</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&quot;blue&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建对象</span></span><br><span class="line"><span class="keyword">let</span> g = demo();</span><br><span class="line"><span class="comment">//获取内部状态值</span></span><br><span class="line"><span class="built_in">console</span>.log(g.next());</span><br><span class="line"><span class="built_in">console</span>.log(g.next());</span><br><span class="line"><span class="built_in">console</span>.log(g.next());</span><br><span class="line"><span class="built_in">console</span>.log(g.next());</span><br><span class="line"></span><br><span class="line"><span class="comment">//外部向内部传递</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">demo2</span>(<span class="params">num1</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>, num1);</span><br><span class="line">  <span class="keyword">let</span> num2 = <span class="keyword">yield</span> <span class="string">&quot;red&quot;</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2</span>, num2);</span><br><span class="line">  <span class="keyword">let</span> num3 = <span class="keyword">yield</span> <span class="string">&quot;green&quot;</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>, num3);</span><br><span class="line">  <span class="keyword">let</span> num4 = <span class="keyword">yield</span> <span class="string">&quot;blue&quot;</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">4</span>, num4);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//给方法传递数据 可以在内部接收</span></span><br><span class="line"><span class="comment">//这里的generator函数执行相当于其初始化,内部语句还没有执行</span></span><br><span class="line"><span class="keyword">let</span> g1 = demo2(<span class="number">1111</span>);</span><br><span class="line"><span class="comment">//第一次执行next方法,相当于从函数开始执行第一个yield关键字并暂停</span></span><br><span class="line"><span class="comment">//注意,第一次执行next方法表示启动,所以传递的数据是无效的(第一次执行next方法,不要传参,将第一个参数传给demo方法即可)</span></span><br><span class="line"><span class="built_in">console</span>.log(g1.next(<span class="number">2222</span>));</span><br><span class="line"><span class="comment">//第二次执行next方法相当于函数从第一个yield执行到第二个yield,并暂停</span></span><br><span class="line"><span class="built_in">console</span>.log(g1.next(<span class="number">3333</span>));</span><br><span class="line"><span class="built_in">console</span>.log(g1.next(<span class="number">444</span>));</span><br><span class="line"><span class="built_in">console</span>.log(g1.next(<span class="number">5555</span>));</span><br><span class="line"><span class="comment">//1. demo执行相当于初始化  2. 第一个next方法执行相当于启动 不能传参到内部 3. 从第二个next方法开始可以正常执行</span></span><br></pre></td></tr></table></figure>

<h3 id="return和throw"><a href="#return和throw" class="headerlink" title="return和throw"></a>return和throw</h3><p>return</p>
<ul>
<li>在generator的原型中提供了return 方法,用于在外部停止内部状态的遍历</li>
<li>如果函数体中出现finally语法,return语句会延后执行</li>
</ul>
<p>throw</p>
<ul>
<li>在generator的原型中提供了return 方法,允许在外部抛出错误</li>
<li>为代码正常执行,可以在状态函数中通过try catch语句捕获错误</li>
<li>如果外部抛出两个错误<ul>
<li>第一个错误在状态函数体中通过try catch去捕获第一个错误</li>
<li>第二个错误在状态函数体外部通过try catch去捕获第二个错误</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//generator函数</span></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span>* <span class="title">demo</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">yield</span> <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">yield</span> <span class="number">2</span>;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">yield</span> <span class="number">3</span>;</span></span><br><span class="line"><span class="javascript">    &#125; <span class="keyword">catch</span> (e) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;inner&quot;</span>, e);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">yield</span> <span class="number">4</span>;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">yield</span> <span class="number">5</span>;</span></span><br><span class="line"><span class="javascript">      <span class="comment">//有finally先执行finally中的语句,在执行外部return方法</span></span></span><br><span class="line"><span class="javascript">    &#125; <span class="keyword">finally</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">yield</span> <span class="number">6</span>;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">yield</span> <span class="number">7</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">yield</span> <span class="number">8</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">yield</span> <span class="number">9</span>;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//return表示内部语句运行完毕,不会再继续执行了</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="number">10</span>;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//后面的yield无意义</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">yield</span> <span class="number">11</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">yield</span> <span class="number">12</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">yield</span> <span class="number">13</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> g = demo();</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(g.next());</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(g.next());</span></span><br><span class="line"><span class="javascript">    <span class="comment">//打断执行  有finally程序打断延后</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   console.log(111);</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   console.log(g.return(11000));</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//抛出错误</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(g.throw(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;这是第一个错误&quot;</span>)));</span></span><br><span class="line"><span class="javascript">    <span class="comment">//在遍历catch语句状态的时候,再次抛出错误,会打断状态遍历,但是会将finally的语句状态遍历</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   console.log(g.throw(&quot;这是第二个错误&quot;));</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="comment">//相同点 打断程序运行 区别 是throw方法抛出的错误会被内部catch捕捉到,throw关键字抛出的错误不会被内部函数接收</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   throw new Error(111);</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(g.next());</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(g.next());</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(g.next());</span></span><br><span class="line"><span class="javascript">    <span class="comment">//catch语句只能捕获一个错误 再次抛出错误将无法捕获</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//第一次抛出的错误内部catch捕获,第二次抛出外部catch捕获,error后面的语句不会在执行了,但是catch里的语句会执行</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(g.next());</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(g.throw(<span class="string">&quot;这是第二个错误&quot;</span>));</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(g.throw(<span class="string">&quot;这是第三个错误&quot;</span>));<span class="comment">//不执行</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(g.next());</span></span><br><span class="line"><span class="javascript">  &#125; <span class="keyword">catch</span> (e) &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">&quot;outer&quot;</span>, e);</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(g.next());</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(g.next());</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(g.next());</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(g.next());</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(g.next());</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(g.next());</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="yield-三个点-this"><a href="#yield-三个点-this" class="headerlink" title="yield 三个点 this"></a>yield 三个点 this</h3><ul>
<li><p>yield * 语法</p>
<ul>
<li>可以将函数内部状态复制到另一个函数体中执行</li>
<li><code>yield* demo()</code></li>
</ul>
</li>
<li><p>三个点:</p>
<ul>
<li>使用三个点语法解构,可以将一个状态函数体中所有状态值获取到</li>
</ul>
</li>
<li><p>generator的this</p>
<ul>
<li>this指向window</li>
<li>不能通过this去添加属性和方法</li>
<li>如果想添加属性或方法,可以在函数执行的时候,使用call或者apply改变作用域,将指向函数原型</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//定义状态</span></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span>* <span class="title">demo</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">yield</span> <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">yield</span> <span class="number">2</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> d = demo();</span></span><br><span class="line"><span class="javascript">  <span class="comment">//查看状态 next for-of  三个点(数组和非数组不能同时使用)</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">//   console.log(...d);//1</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">//状态一旦遍历完就再也遍历不到了</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log([...d]); <span class="comment">//[1,2]</span></span></span><br><span class="line">  </span><br><span class="line"><span class="javascript">  <span class="comment">//状态函数</span></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span>* <span class="title">demo2</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">yield</span> <span class="number">3</span>;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//状态1和状态2 写进来</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//1.手写</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// yield 1;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// yield 2;</span></span></span><br><span class="line">  </span><br><span class="line"><span class="javascript">    <span class="comment">//2 for of</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// let d = demo();</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// for (const item of d) &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   yield item;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//3yield* dmeo()语法</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">yield</span>* demo();</span></span><br><span class="line"><span class="javascript">    <span class="keyword">yield</span> <span class="number">4</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> d1 = demo2();</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(...d1);</span></span><br><span class="line">  </span><br><span class="line"><span class="javascript">  <span class="comment">//this</span></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span>* <span class="title">demo3</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">yield</span> <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">this</span>.num = <span class="number">100</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">yield</span> (<span class="built_in">this</span>.color = <span class="string">&quot;red&quot;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">yield</span> <span class="number">2</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="comment">//拓展方法</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">//generator函数的原型的方法,可以被generator函数创建的对象直接使用</span></span></span><br><span class="line"><span class="javascript">  demo3.prototype.hello = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">&quot;hello&quot;</span>, <span class="built_in">this</span>);</span></span><br><span class="line">  &#125;;</span><br><span class="line"><span class="javascript">  <span class="comment">//   let d2 = demo3();</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">//为了让函数中的this指向generator函数创建的对象,可以在原型对象上执行</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> d2 = demo3.call(demo3.prototype);</span></span><br><span class="line"><span class="javascript">  <span class="comment">//不能作为构造函数使用</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">//   let d3 = new demo();</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log([...d2]);</span></span><br><span class="line">  d2.hello();</span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(d2, d2.num, d2.color);<span class="comment">//demo3 &#123;&lt;closed&gt;&#125; 100 &quot;red&quot;</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//总结 :1 创建gen返回状态对象 不能使用new关键字  普通函数默认没有返回值,必须是通过new关键字创建</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//相同点: 1 创建的对象都可以访问原型的属性和方法</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//为了让gen函数内部this存储数据,可以让gen函数在原型对象上执行即      let d2 = demo3.call(demo3.prototype);</span></span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="处理串行异步操作"><a href="#处理串行异步操作" class="headerlink" title="处理串行异步操作"></a>处理串行异步操作</h3><ul>
<li><p>前一个依赖后一个,并行可以<code>Promise.all()</code></p>
</li>
<li><p>```html</p>
<pre><code>&lt;script&gt;
  //并行 让异步操作一起执行,彼此之间没有关系可以通过Promise.all/race处理
  //用时最慢的一个操作所用的时长
  //串行  异步操作一个接一个执行,彼此之间有依赖关系,(后一个执行依赖前一个执行结果)
  //用时:所有操作的总时长
  //定义异步操作
  var task1 = (data) =&gt;
    new Promise((resolve, reject) =&gt; &#123;
      setTimeout(() =&gt; &#123;
        console.log(1111, data);
        resolve(&quot;第一个执行完毕&quot;);
      &#125;, 1000);
    &#125;);
  var task2 = (data) =&gt;
    new Promise((resolve, reject) =&gt; &#123;
      setTimeout(() =&gt; &#123;
        console.log(2222, data);
        reject(&quot;第二个执行完毕&quot;);
      &#125;, 2000);
    &#125;);
  var task3 = (data) =&gt;
    new Promise((resolve, reject) =&gt; &#123;
      setTimeout(() =&gt; &#123;
        console.log(3333, data);
        resolve(&quot;第三个执行完毕&quot;);
      &#125;, 3000);
    &#125;);

  //借助generator函数
  function* demo(result) &#123;
    //定义暂停状态 执行异步操作
    console.log(&quot;start&quot;);
    //执行第一个异步操作
    result = yield task1(result);
    console.log(&quot;inner 111&quot;, result);
    //执行第二个异步操作
    result = yield task2(result);
    console.log(&quot;inner 2222&quot;, result);
    //执行第三个异步操作
    result = yield task3(result);
    console.log(&quot;inner 333&quot;, result);
    console.log(&quot;end&quot;);
    return result;
  &#125;
  /* //执行操作
  //初始化
  var d = demo(&quot;操作开始了&quot;);
  //   console.log(d.next());
  //监听第一个操作的执行完毕
  d.next().value.then((data) =&gt; &#123;
    console.log(&quot; outer 监听第一个操作结果&quot;, data);
    //将第一个操作的结果传递给第二个操作使用
    // console.log(d.next());
    d.next(data).value.then(
      //监听成功
      (data) =&gt; &#123;
        console.log(&quot;outer 监听第二个操作结果&quot;, data);
        //执行第3个异步操作
        //   console.log(d.next(data));
        d.next(data).value.then((data) =&gt; &#123;
          console.log(&quot;outer 监听第三个操作结果&quot;, data);
        &#125;);
      &#125;,
      (err) =&gt; &#123;
        console.log(&quot;outer 监听第二个操作失败&quot;, err);
        //执行第三个操作 并传递数据
        d.next(err).value.then((data) =&gt;
          console.log(&quot;outer 监听第三个操作结果&quot;, data)
        );
      &#125;
    );
  &#125;); */
  /* 
  实现co工具方法
  @ gen 表示generator函数
  从第二个函数开始  表示初始化的时候传递给gen函数
  return promise对象 可以用来监听结果
  */
  function co(gen, ...args) &#123;
    return new Promise((resolve, reject) =&gt; &#123;
      //初始化
      var g = gen(...args);
      //定义next
      function doNext(res) &#123;
        //定义本地执行结果
        let result;
        //安全执行
        try &#123;
          //执行next方法 获取数据
          result = g.next(res);
        &#125; catch (err) &#123;
          return reject(err);
        &#125;
        console.log(result);
        //遍历完成结束递归
        if (result.done) &#123;
          return resolve(result.value);
        &#125;
        //监听结果 递归调用
        result.value.then(
          (data) =&gt; &#123;
            doNext(data);
          &#125;,
          (err) =&gt; console.log(`fail $&#123;err&#125;`)
        );
      &#125;
      //执行next
      doNext();
    &#125;);
  &#125;
  //通过co工具快速启动 并监听结果
  co(demo, &quot;操作成功&quot;).then(
    (data) =&gt; console.log(data),
    (err) =&gt; console.log(err)
  );
&lt;/script&gt;
</code></pre>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### &#96;async&#96;和await</span><br><span class="line"></span><br><span class="line">+ generator的语法糖</span><br><span class="line"></span><br><span class="line">  + &#96;async&#96;表示函数中有异步操作,代表了*语法</span><br><span class="line">  + await表示等等意思,只有当前程序执行完毕之后,后续代码才会执行,代表了yield关键字,返回promise对象</span><br><span class="line">  + 直接执行函数,不需要&#96;next()&#96;</span><br><span class="line">  + generator是状态机,&#96;async&#96;是异步函数</span><br><span class="line"></span><br><span class="line">  &#96;&#96;&#96;html</span><br><span class="line">      &lt;script&gt;</span><br><span class="line">        &#x2F;&#x2F;定义函数</span><br><span class="line">        &#x2F;*     function demo() &#123;</span><br><span class="line">          console.log(&quot;start&quot;);</span><br><span class="line">          setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            console.log(&quot;success&quot;);</span><br><span class="line">          &#125;, 1000);</span><br><span class="line">          console.log(&quot;end&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        demo();  *&#x2F; &#x2F;&#x2F; start end success</span><br><span class="line">        &#x2F;&#x2F;异步函数</span><br><span class="line">        &#x2F;&#x2F;async表示函数中有异步操作</span><br><span class="line">        async function demo() &#123;</span><br><span class="line">          console.log(&quot;start&quot;);</span><br><span class="line">          &#x2F;&#x2F;等一等异步函数执行完毕</span><br><span class="line">          return await new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">            setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">              console.log(&quot;success&quot;);</span><br><span class="line">              resolve(123);</span><br><span class="line">            &#125;, 1000);</span><br><span class="line">          &#125;);</span><br><span class="line">          console.log(&quot;end&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;   demo();</span><br><span class="line">        demo().then((value) &#x3D;&gt; console.log(value));&#x2F;&#x2F;123</span><br><span class="line">      &lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>练习题</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1 将回调函数放入宏任务</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">111</span>);<span class="comment">//13 打印1111</span></span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">222</span>);<span class="comment">//2 打印222</span></span><br><span class="line">    resolve();<span class="comment">//3 改变promise状态</span></span><br><span class="line">&#125;)</span><br><span class="line">p.then(<span class="function"><span class="params">val</span>=&gt;</span>&#123;<span class="comment">//4 该回调放入微队列</span></span><br><span class="line">   	<span class="built_in">console</span>.log(<span class="number">3333</span>)<span class="comment">//9 打印33333</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> demo=<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4444</span>);<span class="comment">//6 打印4444</span></span><br><span class="line">    <span class="keyword">await</span> <span class="number">100</span>;<span class="comment">// 7 等待100 把下边代码放入微队列</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">5555</span>)/<span class="number">10</span> 打印<span class="number">5555</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//5 执行demo 注意必须等async的demo()函数完全执行完才执行then方法</span></span><br><span class="line">demo().then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;<span class="comment">//11 该回调放入微队列</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">666</span>)<span class="comment">//12 打印6666</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">7777</span>)<span class="comment">//8 打印7777</span></span><br><span class="line"></span><br><span class="line"><span class="number">2222</span>-&gt;<span class="number">4444</span>-&gt;<span class="number">7777</span>--&gt;<span class="number">3333</span>--&gt;<span class="number">5555</span>--&gt;<span class="number">6666</span>--&gt;<span class="number">1111</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1 将回调函数放入宏任务</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">111</span>);<span class="comment">//21 打印1111</span></span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> demo=<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4444</span>);<span class="comment">//3 打印4444</span></span><br><span class="line">    <span class="keyword">await</span> <span class="number">100</span>;<span class="comment">// 4.执行后边100 把后边代码放入微任务</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">5555</span>);<span class="comment">//9 打印55555</span></span><br><span class="line">    <span class="keyword">await</span> <span class="number">200</span>;<span class="comment">//10 执行后边200 把后边代码放入微任务</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">8888</span>);<span class="comment">//13 打印88888</span></span><br><span class="line">    <span class="keyword">await</span> <span class="number">300</span>;<span class="comment">//14  执行后边300 把后边代码放入微任务</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">9999</span>);<span class="comment">//17 打印9999</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2 执行函数 then后的回调必须在demo()执行完后才放入微队列</span></span><br><span class="line">demo().then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;<span class="comment">//18 把这里的代码放入微任务</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">66666</span>)<span class="comment">//20 打印66666</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2222</span>)<span class="comment">//5 打印2222</span></span><br><span class="line">    resolve();<span class="comment">//6 修改promise为成功状态</span></span><br><span class="line">&#125;)</span><br><span class="line">p.then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;<span class="comment">//7 把该回调放入微队列</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">333</span>)<span class="comment">//11 打印333</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;<span class="comment">//12 把该回调放入微队列</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">123</span>)<span class="comment">//15 打印123</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;<span class="comment">//16放入微队列</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;aaa&#x27;</span>)<span class="comment">//19 打印aaa</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">7777</span>)<span class="comment">//8 打印7777</span></span><br><span class="line"><span class="number">4444</span>--&gt;<span class="number">2222</span>-&gt;<span class="number">77777</span>-&gt;<span class="number">55555</span>-&gt;<span class="number">3333</span>--&gt;<span class="number">8888</span>--&gt;<span class="number">123</span>--&gt;<span class="number">9999</span>--&gt;aaa-&gt;<span class="number">6666</span>-&gt;<span class="number">111</span></span><br></pre></td></tr></table></figure>

<p><strong>一定要注意必须是在执行完<code>async</code>函数后返回的promise的then的回调才会放入微队列,函数未执行完,不会把then回调放入微队列</strong></p>
<h2 id="函数拓展"><a href="#函数拓展" class="headerlink" title="函数拓展"></a>函数拓展</h2><h3 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h3><ul>
<li><p>之前适配参数方式</p>
<ul>
<li><p>可以通过<code>||</code>运算符来适配参数默认值</p>
<p>但是它会忽略6个值为false的参数:<code>0 NaN undefined null &#39;&#39; false</code></p>
</li>
<li><p>可以使用三元运算符:<code>?:</code>参数过多,书写麻烦</p>
</li>
<li><p>使用<code>extend | assign</code>方法适配对象,对于值类型参数不使用</p>
</li>
</ul>
</li>
<li><p><code>es6</code>为解决这样问题,提供了适配默认参数方式.直接在参数集合中为形参赋值即可</p>
<ul>
<li>如果传递了参数,则使用传递的参数</li>
<li>没有传参,使用默认参数</li>
</ul>
</li>
<li><p><code>es6</code>拓展的适配默认参数方式与三元运算符方式等价</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义函数</span></span><br><span class="line">     <span class="comment">//es6中直接为默认参数赋值,定义默认参数</span></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params">color = <span class="string">&quot;red&quot;</span></span>) </span>&#123;</span><br><span class="line">       <span class="comment">//1. ||运算符判断</span></span><br><span class="line">       <span class="comment">// color = color || &quot;red&quot;;</span></span><br><span class="line">       <span class="comment">//2. 三元运算符适配  如果参数很多会很麻烦</span></span><br><span class="line">       <span class="comment">// color = color === undefined ? &quot;red&quot; : color;</span></span><br><span class="line">       <span class="comment">//3.</span></span><br><span class="line">       <span class="built_in">console</span>.log(color);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment">//执行函数传递参数</span></span><br><span class="line">     demo();</span><br><span class="line">     demo(<span class="number">0</span>);</span><br><span class="line">     demo(<span class="string">&quot;&quot;</span>);</span><br><span class="line">     demo(<span class="literal">NaN</span>);</span><br><span class="line">     demo(<span class="literal">false</span>);</span><br><span class="line">     demo(<span class="literal">undefined</span>);</span><br><span class="line">     demo(<span class="string">&quot;green&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="获取剩余认参数"><a href="#获取剩余认参数" class="headerlink" title="获取剩余认参数"></a>获取剩余认参数</h3><ul>
<li><p>之前可以通过<code>arguments</code>获取所有参数,但是<code>arguments</code>是类数组对象,不能使用数组常用方法,<code>es6</code>扩展了获取剩余参数语法</p>
</li>
<li><p>获取的剩余参数是一个数组,可以直接使用数组常用方法</p>
<ul>
<li><p>语法: </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params">arg1.arg2,...args</span>)</span>&#123;&#125;</span><br><span class="line"><span class="comment">//arg1表示第一个参数  arg2表示第二个参数  args表示剩余参数</span></span><br></pre></td></tr></table></figure></li>
<li><p>获取剩余参数的语法</p>
<ul>
<li>如果有剩余参数,获取到的是一个由所有剩余参数组成的数组</li>
<li>没有剩余参数,获取到的是空数组</li>
<li>前面参数可以正常使用,前面参数没有对应参数则值是undefined</li>
<li>箭头函数中广泛使用</li>
</ul>
</li>
</ul>
</li>
<li><p>逆运用</p>
<ul>
<li><code>...args</code>可以将一个数组中的成员,作为参数传递到一个方法中</li>
<li>之前可以通过apply方法,将数组中每一项数据传递到一个方法中,但是使用apply需要考虑this指向</li>
<li>可以使用获取剩余参数语法,不需要考虑this指向问题,正常执行函数</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//获取剩余参数语法</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="comment">//获取剩余参数</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params">num1, num2, ...args</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(num1, num2, args);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    demo();</span><br><span class="line">    demo(1);</span><br><span class="line">    demo(1, 2);</span><br><span class="line">    demo(1, 2, 3);</span><br><span class="line">    demo(1, 2, 3, 4);</span><br><span class="line">    demo(1, 2, 3, 4, 5);</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="comment">//求参数之和</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> result = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> <span class="built_in">arguments</span>) &#123;</span></span><br><span class="line">        result += value;</span><br><span class="line">      &#125;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> result;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(add(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>)); <span class="comment">//45</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="comment">//获取剩余参数语法求和</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">...nums</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> nums.reduce(<span class="function">(<span class="params">res, item</span>) =&gt;</span> res + item, <span class="number">0</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(add(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>)); <span class="comment">//45</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="comment">//逆运用</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span></span><br><span class="line"><span class="javascript">    <span class="comment">//返回apply</span></span></span><br><span class="line"><span class="javascript">    result = add.apply(<span class="literal">null</span>, arr);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(result); <span class="comment">//15</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="comment">//使用三个点语法</span></span></span><br><span class="line">    result = add(...arr);</span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(result); <span class="comment">//15</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="comment">//三个点语法代替apply</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="comment">//实现copyWithin</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">Array</span>.prototype.mycopyWithin = <span class="function"><span class="keyword">function</span> (<span class="params">pos, start, end</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">//截取  将来谁调用该方法this就是谁</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> arr = <span class="built_in">this</span>.slice(start, end);</span></span><br><span class="line"><span class="javascript">      <span class="comment">//粘贴</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// for (let i in arr) &#123;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   //更新成员</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   this[i + pos] = arr[i];</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//数组操作splice(插入位置,删除个数,...插入的成员) apply()可以将一个数组成员以参数形式传递</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// this.splice(pos, end - start,arr);arr是数组用下边方法传递数组作为参数</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// this.splice.apply(this, [pos, end - start].concat(arr));</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// this.splice.apply(this,[pos,start-end,...this.slice(start,end)]);</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//返回原数组</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// return this;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//下边这样返回将以最后一个作为返回值返回,这里返回this,即下边的arr2</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> (</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.splice(...[pos, end - start, ...this.slice(start, end)]), <span class="built_in">this</span></span></span><br><span class="line">      );</span><br><span class="line">    &#125;;</span><br><span class="line"><span class="javascript">    <span class="comment">//测试</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr2 = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</span></span><br><span class="line">    result = arr2.mycopyWithin(2, 5, 8);</span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(result, arr2); <span class="comment">//(10) [0, 1, 5, 6, 7, 5, 6, 7, 8, 9]</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><ul>
<li><p><code>ES5</code>中定义函数方式: </p>
<ul>
<li>寒湖是定义式</li>
<li>函数表达式</li>
<li>构造函数式</li>
</ul>
</li>
<li><p><code>es6</code>中有箭头函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> demo=<span class="function">()=&gt;</span>&#123;&#125;;</span><br><span class="line"><span class="comment">//()表示参数集合  =&gt;表示箭头函数标志  &#123;&#125;为函数体</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>几种点省略语法</p>
<ul>
<li><p>如果参数集合中只有一个参数,即可省略参数集合</p>
</li>
<li><p>如果使用三个点语法获取剩余参数或者是解构语法,不能省略参数集合</p>
</li>
<li><p>如果函数中只有一句话,或只有返回值的时候,可以省略return以及函数体</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">      </span><br><span class="line"><span class="comment">//定义函数</span></span><br><span class="line">      <span class="comment">//函数定义式</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">demo1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">111</span>, <span class="string">&quot;demo&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//函数表达式</span></span><br><span class="line">      <span class="keyword">var</span> demo2 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">222</span>, <span class="string">&quot;demo2&quot;</span>);</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">//构造函数式</span></span><br><span class="line">      <span class="keyword">let</span> demo3 = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">`console.log(333,&#x27;demo3&#x27;)`</span>);</span><br><span class="line">      <span class="comment">//箭头函数</span></span><br><span class="line">      <span class="keyword">let</span> demo4 = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">444</span>, <span class="string">&quot;demo4&quot;</span>);</span><br><span class="line">      &#125;;</span><br><span class="line">      demo1();</span><br><span class="line">      demo2();</span><br><span class="line">      demo3();</span><br><span class="line">      demo4();</span><br><span class="line"></span><br><span class="line">      <span class="comment">//1. 省略参数集合 一个参数括号可省略</span></span><br><span class="line">      <span class="keyword">let</span> print = <span class="function">(<span class="params">msg</span>) =&gt;</span> <span class="built_in">console</span>.log(msg);</span><br><span class="line">      print(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">      <span class="comment">//获取剩余参数语法不能省略()</span></span><br><span class="line">      <span class="keyword">let</span> print2 = <span class="function">(<span class="params">...args</span>) =&gt;</span> <span class="built_in">console</span>.log(args);</span><br><span class="line">      print2(<span class="number">100</span>, <span class="string">&quot;hello&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">      <span class="comment">//解构语法括号不能省略()</span></span><br><span class="line">      <span class="keyword">let</span> print3 = <span class="function">(<span class="params">&#123; msg &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(msg);</span><br><span class="line">      &#125;;</span><br><span class="line">      print3(&#123; <span class="attr">color</span>: <span class="string">&quot;red&quot;</span>, <span class="attr">msg</span>: <span class="string">&quot;hello&quot;</span> &#125;); <span class="comment">//hello</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//省略函数体</span></span><br><span class="line">      <span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>];</span><br><span class="line">      <span class="comment">//数组映射</span></span><br><span class="line">      <span class="keyword">let</span> result = arr.map(<span class="function">(<span class="params">item</span>) =&gt;</span> <span class="built_in">Math</span>.pow(item * <span class="number">2</span>, <span class="number">2</span>));</span><br><span class="line">      <span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li><p>箭头函数特点</p>
<ul>
<li><p><em><strong>无法使用arguments,但是可以使用三个点语法获取剩余参数</strong></em></p>
</li>
<li><p>无法作为构造函数使用</p>
</li>
<li><p><strong>箭头函数this</strong>指向永远是<strong>定义时的</strong></p>
<ul>
<li>普通函数中this是<strong>执行时候</strong>的上下文对象，谁调用指向谁</li>
<li><strong>无论使用call,apply或者是bind都不能修改箭头函数this指向</strong></li>
<li>改变箭头函数this唯一方法改变其宿主环境作用域</li>
<li><strong>改变其外部函数this对象</strong></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">	<span class="comment">//定义函数</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//函数定义式</span></span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">demo1</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="number">111</span>, <span class="string">&quot;demo&quot;</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="javascript">      <span class="comment">//函数表达式</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> demo2 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="number">222</span>, <span class="string">&quot;demo2&quot;</span>);</span></span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      <span class="comment">//构造函数式</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> demo3 = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">`console.log(333,&#x27;demo3&#x27;)`</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">//箭头函数</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> demo4 = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="number">444</span>, <span class="string">&quot;demo4&quot;</span>);</span></span><br><span class="line">      &#125;;</span><br><span class="line">      demo1();</span><br><span class="line">      demo2();</span><br><span class="line">      demo3();</span><br><span class="line">      demo4();</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">//1. 省略参数集合 一个参数括号可省略</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> print = <span class="function">(<span class="params">msg</span>) =&gt;</span> <span class="built_in">console</span>.log(msg);</span></span><br><span class="line"><span class="javascript">      print(<span class="string">&quot;hello&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">//获取剩余参数语法不能省略()</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> print2 = <span class="function">(<span class="params">...args</span>) =&gt;</span> <span class="built_in">console</span>.log(args);</span></span><br><span class="line"><span class="javascript">      print2(<span class="number">100</span>, <span class="string">&quot;hello&quot;</span>, <span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">//解构语法括号不能省略()</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> print3 = <span class="function">(<span class="params">&#123; msg &#125;</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(msg);</span></span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      print3(&#123; <span class="attr">color</span>: <span class="string">&quot;red&quot;</span>, <span class="attr">msg</span>: <span class="string">&quot;hello&quot;</span> &#125;); <span class="comment">//hello</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">//省略函数体</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>];</span></span><br><span class="line"><span class="javascript">      <span class="comment">//数组映射</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> result = arr.map(<span class="function">(<span class="params">item</span>) =&gt;</span> <span class="built_in">Math</span>.pow(item * <span class="number">2</span>, <span class="number">2</span>));</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(result);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="comment">//特点</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//1 无法使用arguments</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> add = <span class="function">(<span class="params">...args</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(args);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> args.reduce(<span class="function">(<span class="params">res, item</span>) =&gt;</span> res + item, <span class="number">0</span>);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//console.log(arguments);//arguments is not defined</span></span></span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(add(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>));</span></span><br><span class="line"><span class="javascript">      add = <span class="function">(<span class="params">...args</span>) =&gt;</span> args.reduce(<span class="function">(<span class="params">res, item</span>) =&gt;</span> res + item, <span class="number">0</span>);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(add(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>));<span class="comment">//6</span></span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">         <span class="comment">//2. 箭头函数不能作为构造函数</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//函数声明可以new</span></span></span><br><span class="line">      /*       function Player(x, y) &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.x = x;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.y = y;</span></span><br><span class="line">      &#125; */</span><br><span class="line"><span class="javascript">      <span class="comment">//函数表达式可以new</span></span></span><br><span class="line">      /*       let Player = function (x, y) &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.x = x;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.y = y;</span></span><br><span class="line">      &#125;; */</span><br><span class="line"><span class="javascript">      <span class="comment">//箭头函数不可以new</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> Player = <span class="function">(<span class="params">x, y</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//箭头函数. Uncaught TypeError: Player is not a constructor</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.x = x;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.y = y;</span></span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      <span class="comment">//定义原型方法</span></span></span><br><span class="line">      Player.prototype = &#123;</span><br><span class="line"><span class="javascript">        <span class="comment">//constructor;这个构造器会被重写</span></span></span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      <span class="comment">// Player.prototype.getPosition=function()&#123;&#125;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//es6定义原型方法  这个方法不会修改原来constructor属性,还可以把所有方法写在一起</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">Object</span>.assign(Player.prototype, &#123;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">getPosition</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="built_in">this</span>.x, <span class="built_in">this</span>.y);</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> p = <span class="keyword">new</span> Player(<span class="number">100</span>, <span class="number">200</span>);</span></span><br><span class="line"><span class="javascript">      p.getPosition(); <span class="comment">//100 200</span></span></span><br><span class="line">        </span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h3><ul>
<li>symbol表示独一无二的数据类型<ul>
<li>可以通过<strong>Symbol方法</strong>创建Symbol数据,参数是对Symbol数据的描述,但结果不受影响</li>
<li>可以通过<code>typeof</code> 查看Symbol数据类型,如果参数传递的是对象,默认会调用<code>toString</code>方法</li>
</ul>
</li>
<li>symbol数据类型的出现是为了避免对象中同名属性被覆盖的问题</li>
<li>Symbol创建的数据<strong>不能通过<code>for-in</code>查看,也不能通过<code>Object.keys</code>查看数据</strong></li>
<li>只能通过**<code>Object.getOwnPropertySymbols</code>**查看数据(<code>Object.keys</code>用来获取所有属性数据的),还可以通过变量,查看对应数据类型</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">//定义Symbol数据 独一无二</span></span><br><span class="line">      <span class="keyword">let</span> s1 = <span class="built_in">Symbol</span>(); <span class="comment">//false</span></span><br><span class="line">      <span class="keyword">let</span> s2 = <span class="built_in">Symbol</span>(); <span class="comment">//false</span></span><br><span class="line">      <span class="keyword">let</span> s3 = <span class="built_in">Symbol</span>(<span class="string">&quot;my&quot;</span>);</span><br><span class="line">      <span class="keyword">let</span> s4 = <span class="built_in">Symbol</span>(<span class="string">&quot;my&quot;</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(s1 == s2);</span><br><span class="line">      <span class="built_in">console</span>.log(s3 == s4);</span><br><span class="line">      <span class="built_in">console</span>.log(s1, s2, s3, s4);</span><br><span class="line"></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">typeof</span> s1); <span class="comment">//symbol</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//参数是对象</span></span><br><span class="line">      <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        color: <span class="string">&quot;red&quot;</span>,</span><br><span class="line">        <span class="comment">//重写toString方法</span></span><br><span class="line">        <span class="function"><span class="title">toString</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="string">&quot;hello my&quot;</span>;<span class="comment">//下边将打印Symbol(hello my)</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">let</span> s5 = <span class="built_in">Symbol</span>(obj);</span><br><span class="line">      <span class="built_in">console</span>.log(s5); <span class="comment">//Symbol([object Object])</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//symbol做属性</span></span><br><span class="line">      <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        color: <span class="string">&quot;red&quot;</span>,</span><br><span class="line">        num: <span class="number">100</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">//添加同名属性</span></span><br><span class="line">      obj.color = <span class="string">&quot;blue&quot;</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(obj);<span class="comment">//&#123;color: &quot;blue&quot;, num: 100&#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//添加Symbol属性</span></span><br><span class="line">      obj[s1] = <span class="string">&quot;green&quot;</span>;</span><br><span class="line">      obj[s2] = <span class="string">&quot;blue&quot;</span>;</span><br><span class="line">      obj[s2]=<span class="string">&#x27;pink&#x27;</span>;<span class="comment">//再次赋值就是修改</span></span><br><span class="line">      <span class="built_in">console</span>.log(obj);</span><br><span class="line">      <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        color: <span class="string">&quot;red&quot;</span>,</span><br><span class="line">        num: <span class="number">100</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">//添加同名属性</span></span><br><span class="line">      <span class="comment">/*       obj.color = &quot;blue&quot;;</span></span><br><span class="line"><span class="comment">      console.log(obj);//&#123;color: &quot;blue&quot;, num: 100&#125; */</span></span><br><span class="line">      <span class="comment">//添加Symbol属性</span></span><br><span class="line">      obj[s1] = <span class="string">&quot;green&quot;</span>;</span><br><span class="line">      obj[s2] = <span class="string">&quot;blue&quot;</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(obj);</span><br><span class="line">      <span class="built_in">Object</span>.defineProperty(obj, <span class="string">&quot;msg&quot;</span>, &#123;</span><br><span class="line">        value: <span class="string">&quot;hello&quot;</span>,</span><br><span class="line">        enumerable: <span class="literal">false</span>,</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="comment">//for in 枚举</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(key, obj[key]); <span class="comment">//看不到symbol属性</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//获取对象属性自身名称 也不能获取不能枚举的属性,不能获取symbol属性</span></span><br><span class="line">      <span class="keyword">var</span> keys = <span class="built_in">Object</span>.keys(obj);</span><br><span class="line">      <span class="built_in">console</span>.log(keys);</span><br><span class="line">      <span class="comment">//获取对象symbol属性</span></span><br><span class="line">      <span class="built_in">console</span>.log(obj[s1]);</span><br><span class="line">      <span class="built_in">console</span>.log(obj[s2]);</span><br><span class="line">      <span class="comment">//通过方法获取</span></span><br><span class="line">      keys = <span class="built_in">Object</span>.getOwnPropertySymbols(obj);</span><br><span class="line">      <span class="built_in">console</span>.log(keys);</span><br><span class="line">      keys.forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> <span class="built_in">console</span>.log(obj[item]));</span><br><span class="line"></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(obj));</span><br><span class="line"></span><br><span class="line">      <span class="comment">//Object.keys   获取自身属性,不包括不能枚举的以及symbol数据</span></span><br><span class="line">      <span class="comment">//Object.getOwnPropertySymbols  获取自身symbol属性,不包括普通属性以及设计特性属性</span></span><br><span class="line">      <span class="comment">//Object.getOwnPropertyNames 获取自身属性,可以获取不能枚举属性但是不包括symbol属性</span></span><br></pre></td></tr></table></figure>

<h3 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h3><ul>
<li>在一个系统中,总要在一个对象中,存储一些数据,对于这些数据,可能是希望我们访问的,但是总是一些重要的,不希望我们访问,希望保护起来,因此<code>es6</code>新增了代理,实现这一特征</li>
<li>语法通过Proxy实现 <code>let proxy=new Proxy(obj,&#123;set,get&#125;) </code>返回代理对象<ul>
<li>第一个参数: obj表示被代理对象</li>
<li>第二个参数:{set,get}表示<strong>操作</strong>被代理的对象的<strong>对象</strong>(一个对象用于操作被代理的对象)<ul>
<li><code>get(obj,key)</code>表示取值方法:<ul>
<li>obj表示被代理的对象     key表示获取的属性</li>
</ul>
</li>
<li>返回值很重要:就是获取的数据   this指向<em>操作对象</em></li>
</ul>
</li>
<li>注意: 绝对不能获取代理对象(proxy)的key属性</li>
</ul>
</li>
<li>操作被代理对象的set方法:<ul>
<li>set(obj,key,value)表示赋值方法<ul>
<li>obj表示被代理对象  key表示修改的属性   value表示要修改的值</li>
<li>this指向操作对象  不需要返回值</li>
<li>注意: 绝对不能在里面修改代理对象(proxy)的key属性</li>
</ul>
</li>
</ul>
</li>
<li>代理与特性很相像<ul>
<li>特性是对同一个对象的操作,数据不能在当前属性下存储,存储在备份中</li>
<li>代理是对不同的对象的操作,数据可以直接存储在当前属性下,原对象属性可以发生变化</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义对象</span></span><br><span class="line"> <span class="keyword">let</span> star = &#123;</span><br><span class="line">   name: <span class="string">&quot;赵丽颖&quot;</span>,</span><br><span class="line">   boyFriend: <span class="string">&quot;无&quot;</span>,</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="comment">//代理人</span></span><br><span class="line"> <span class="keyword">var</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(star, &#123;</span><br><span class="line">   color: <span class="string">&quot;red&quot;</span>,</span><br><span class="line">   <span class="comment">//取值器方法</span></span><br><span class="line">   <span class="function"><span class="title">get</span>(<span class="params">obj, key, proxy</span>)</span> &#123;</span><br><span class="line">     <span class="comment">//   console.log(this, arguments);</span></span><br><span class="line">     <span class="comment">//不能获取敏感信息</span></span><br><span class="line">     <span class="keyword">return</span> key == <span class="string">&quot;boyFriend&quot;</span> ? <span class="string">&quot;这是个秘密&quot;</span> : obj.name;</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="comment">//赋值器方法</span></span><br><span class="line">   <span class="function"><span class="title">set</span>(<span class="params">obj, key, value, proxy</span>)</span> &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">this</span>, <span class="built_in">arguments</span>); <span class="comment">//this 为操作对象</span></span><br><span class="line">     <span class="comment">//公开数据可以修改</span></span><br><span class="line">     <span class="comment">//敏感信息拦截</span></span><br><span class="line">     <span class="keyword">if</span> (key === <span class="string">&quot;boyFriend&quot;</span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     obj[key] = value; <span class="comment">//注意这这里的key为变量</span></span><br><span class="line">   &#125;,</span><br><span class="line"> &#125;);</span><br><span class="line"> <span class="comment">//跟经济(代理)人获取明星信息 下边操作会执行get方法</span></span><br><span class="line"> <span class="built_in">console</span>.log(proxy.name); <span class="comment">//赵丽颖</span></span><br><span class="line"> <span class="built_in">console</span>.log(proxy.boyFriend); <span class="comment">//这是个秘密</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//修改数据 下边操作会执行set方法</span></span><br><span class="line"> proxy.name = <span class="string">&quot;小美女&quot;</span>;</span><br><span class="line"> proxy.boyFriend = <span class="string">&quot;含糊&quot;</span>;</span><br><span class="line"> <span class="built_in">console</span>.log(proxy.name);</span><br><span class="line"> <span class="built_in">console</span>.log(proxy.boyFriend);</span><br><span class="line"> <span class="built_in">console</span>.log(star);</span><br><span class="line"></span><br><span class="line"> <span class="comment">//代理就是通过操作一个对象来保护另一个对象</span></span><br></pre></td></tr></table></figure>

<h3 id="Reflect"><a href="#Reflect" class="headerlink" title="Reflect"></a>Reflect</h3><ul>
<li><p>是对对象中一些操作方法的封装</p>
</li>
<li><p>在之前,对象中所有方法都给了Object,这些方法内部语言方法,于是将这些方法拿出来给了Reflect,因此,再次调用这些方法的时候,就可以通过Reflect调用</p>
</li>
<li><p>所以在未来对象中的方法可能被移除,给了Reflect,例如:</p>
<ul>
<li>之前定义特性的方式:<code>Object.definiteProperty</code></li>
<li>现在定义特性方式: <code>Reflect.defineProperty</code></li>
<li><code>Reflect</code>允许对一些操作符当做方法去执行<ul>
<li>has代替in运算符,检查某个属性是否存在</li>
<li><code>deleteProperty</code> :删除对象中某个属性</li>
<li><code>getOwnPropertyDescriptor</code> 获取某个属性描述的特性对象</li>
<li>get: 获取数据  set:设置数据</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">   color: <span class="string">&quot;red&quot;</span>,</span><br><span class="line">   num: <span class="number">100</span>,</span><br><span class="line"> &#125;;</span><br><span class="line">  </span><br><span class="line"> <span class="comment">//内部的方法放在了Reflect上</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="built_in">Reflect</span>);</span><br><span class="line"> <span class="comment">//不想让obj被修改</span></span><br><span class="line"> <span class="comment">/*       Object.defineProperty(obj, &quot;color&quot;, &#123;</span></span><br><span class="line"><span class="comment">   writable: false,</span></span><br><span class="line"><span class="comment"> &#125;);*/</span></span><br><span class="line"> <span class="built_in">Object</span>.defineProperty(obj, <span class="string">&quot;num&quot;</span>, &#123;</span><br><span class="line">   enumerable: <span class="literal">false</span>,</span><br><span class="line"> &#125;);</span><br><span class="line"> <span class="comment">/*  Reflect.defineProperty(obj, &quot;color&quot;, &#123;</span></span><br><span class="line"><span class="comment">   writable: false,</span></span><br><span class="line"><span class="comment"> &#125;);</span></span><br><span class="line"><span class="comment"> Reflect.defineProperty(obj, &quot;num&quot;, &#123;</span></span><br><span class="line"><span class="comment">   enumerable: false,</span></span><br><span class="line"><span class="comment"> &#125;); */</span></span><br><span class="line"> <span class="comment">//判断对象有没有某属性 不受枚举影响</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&quot;color&quot;</span> <span class="keyword">in</span> obj); <span class="comment">//true</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&quot;num&quot;</span> <span class="keyword">in</span> obj); <span class="comment">//true</span></span><br><span class="line"> <span class="comment">//es6判断</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="built_in">Reflect</span>.has(obj, <span class="string">&quot;color&quot;</span>)); <span class="comment">//true</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="built_in">Reflect</span>.has(obj, <span class="string">&quot;num&quot;</span>)); <span class="comment">//true</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="built_in">Reflect</span>.has(obj, <span class="string">&quot;msg&quot;</span>)); <span class="comment">//false</span></span><br><span class="line"> <span class="comment">//删除属性</span></span><br><span class="line"> <span class="keyword">delete</span> obj.color;</span><br><span class="line"> <span class="comment">//   es6替换</span></span><br><span class="line"> <span class="built_in">Reflect</span>.deleteProperty(obj, <span class="string">&quot;color&quot;</span>);</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="built_in">Reflect</span>.has(obj, <span class="string">&quot;color&quot;</span>));<span class="comment">//false</span></span><br><span class="line">  </span><br><span class="line"> <span class="comment">//修改color</span></span><br><span class="line"> obj.color = <span class="string">&quot;green&quot;</span>;</span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(key, obj[key]);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="聚合数据"><a href="#聚合数据" class="headerlink" title="聚合数据"></a>聚合数据</h3><h4 id="set和WeakSet"><a href="#set和WeakSet" class="headerlink" title="set和WeakSet"></a>set和<code>WeakSet</code></h4><ul>
<li><code>es5</code>的聚合数据: 对象和数组</li>
<li><code>es6</code>添加了4种聚合数据:<code>Set WeakSet Map WeakMap</code></li>
<li><code>set</code>是实现了<strong>迭代器接口</strong>的<strong>去重数组</strong><ul>
<li>在去重的时候不会做类型转换</li>
<li>由于<code>set</code>对象实现了数组迭代器接口,可以用<code>for-of</code>遍历</li>
</ul>
</li>
<li>内部提供了大量的方法用于操作该对象<ul>
<li>size: 获取数组长度</li>
<li>has: 获取是否包含某个属性</li>
<li>add:添加数据     <code>delete</code>:删除数据</li>
<li>clear :清空数据  <code>forEach</code>: 遍历数据</li>
<li>key,values,entries为迭代器接口</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>]; <span class="comment">//重读数组</span></span><br><span class="line"><span class="comment">//不重复</span></span><br><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line"><span class="comment">//获取长度</span></span><br><span class="line"><span class="built_in">console</span>.log(s.size);</span><br><span class="line"><span class="comment">//添加成员</span></span><br><span class="line">s.add(<span class="number">10</span>);</span><br><span class="line"><span class="comment">//删除成员</span></span><br><span class="line">s.delete(<span class="number">1</span>);</span><br><span class="line"><span class="comment">//清空</span></span><br><span class="line"><span class="comment">//   s.clear();</span></span><br><span class="line"><span class="comment">//遍历</span></span><br><span class="line">s.forEach(<span class="function">(<span class="params">...args</span>) =&gt;</span> <span class="built_in">console</span>.log(args));</span><br><span class="line"><span class="built_in">console</span>.log(s.keys);</span><br><span class="line"><span class="built_in">console</span>.log(s.values);</span><br><span class="line"><span class="built_in">console</span>.log(s.entries);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> s) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line"></span><br><span class="line"><span class="comment">//应用给数组去重</span></span><br><span class="line"><span class="comment">//创建set对象</span></span><br><span class="line"><span class="keyword">let</span> s1 = <span class="keyword">new</span> <span class="built_in">Set</span>(arr);</span><br><span class="line"><span class="comment">//将set对象转为数组 使用...语法</span></span><br><span class="line"><span class="built_in">console</span>.log([...s1]);<span class="comment">//[1,2,3]</span></span><br></pre></td></tr></table></figure>

<p><strong><code>WeakSet</code></strong></p>
<ul>
<li>弱set对象,成员只能是引用类型数据</li>
<li>不能添加空对象<ul>
<li>由于是弱set对象,因此存在方法较少,只有<code>add delete has</code>三个方法</li>
<li>由于<code>weakSet</code>不能被垃圾回收机制自动回收,需要慎重使用</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建weakSet对象</span></span><br><span class="line"><span class="keyword">let</span> ws = <span class="keyword">new</span> <span class="built_in">WeakSet</span>([<span class="built_in">window</span>, [], &#123;&#125;, [], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;]); <span class="comment">//不会去重[],地址不同</span></span><br><span class="line"><span class="comment">//会去重arr  null和其他基本类型数据都不能放</span></span><br><span class="line">ws = <span class="keyword">new</span> <span class="built_in">WeakSet</span>([<span class="built_in">window</span>, arr, arr, &#123;&#125;]);</span><br><span class="line">ws.add(location);</span><br><span class="line">ws.delete(<span class="built_in">window</span>);</span><br><span class="line"><span class="built_in">console</span>.log(ws.has(arr));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(ws.has([]));<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(ws);</span><br></pre></td></tr></table></figure>

<h4 id="Map和WeakMap"><a href="#Map和WeakMap" class="headerlink" title="Map和WeakMap"></a>Map和<code>WeakMap</code></h4><ul>
<li><p>Map是一个超级对象</p>
<ul>
<li><p>传统的对象所有属性名称都必须是字符串</p>
</li>
<li><p>但是map对象中,定义的属性名可以是<strong>任意数据类型</strong>(7种)</p>
</li>
<li><p>通过<code>new map</code>创建map对象,实现了迭代器接口对象,可以使用<code>for-of</code>遍历循环</p>
</li>
<li><p>其map对象的方法</p>
<ul>
<li><p>size: 获取数组长度</p>
</li>
<li><p>has: 获取是否包含某个属性</p>
</li>
<li><p> <code>delete</code>:删除数据</p>
</li>
<li><p>clear :清空数据  <code>forEach</code>: 遍历数据</p>
</li>
<li><p>key,values,entries为迭代器接口</p>
</li>
<li><p><strong>get 获取数据</strong></p>
</li>
<li><p><strong>set 设置数据</strong></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义对象</span></span><br><span class="line">     <span class="comment">//   var obj = &#123;</span></span><br><span class="line">     <span class="comment">//     null: 100,</span></span><br><span class="line">     <span class="comment">//     window: 200,</span></span><br><span class="line">     <span class="comment">//     [null]: 230,</span></span><br><span class="line">     <span class="comment">//     [window]: 400,</span></span><br><span class="line">     <span class="comment">//   &#125;;</span></span><br><span class="line">     <span class="comment">//   console.log(obj);</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">//es6的超级对象</span></span><br><span class="line">     <span class="keyword">let</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">     m.set(<span class="built_in">window</span>, <span class="number">100</span>);</span><br><span class="line">     m.set(<span class="literal">true</span>, <span class="number">200</span>);</span><br><span class="line">     m.set(<span class="literal">null</span>, <span class="number">400</span>);</span><br><span class="line">     m.set(<span class="literal">undefined</span>, []);</span><br><span class="line">     m.set(<span class="function">() =&gt;</span> &#123;&#125;, &#123;&#125;);</span><br><span class="line">     <span class="comment">//删除</span></span><br><span class="line">     m.delete(<span class="literal">true</span>);</span><br><span class="line">     <span class="comment">//判断属性是否存在</span></span><br><span class="line">     <span class="built_in">console</span>.log(m.has(<span class="literal">true</span>)); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(m.get(<span class="literal">null</span>)); <span class="comment">//400</span></span><br><span class="line">     <span class="comment">//遍历</span></span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> m) &#123;</span><br><span class="line">       <span class="built_in">console</span>.log(item);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment">//forEach遍历 属性值 属性名 m</span></span><br><span class="line">     m.forEach(<span class="function">(<span class="params">...args</span>) =&gt;</span> &#123;</span><br><span class="line">       <span class="built_in">console</span>.log(args);</span><br><span class="line">     &#125;);</span><br><span class="line"></span><br><span class="line">     <span class="built_in">console</span>.log(m.keys());</span><br><span class="line">     <span class="built_in">console</span>.log(m.values());</span><br><span class="line">     <span class="built_in">console</span>.log(m.entries());</span><br><span class="line">     m.clear();</span><br><span class="line">     <span class="built_in">console</span>.log(m);</span><br></pre></td></tr></table></figure>

<p><strong><code>WeakMap</code></strong></p>
<ul>
<li>弱map对象,成员只能是引用类型数据</li>
<li>不能添加空对象<ul>
<li>由于是弱set对象,因此存在方法较少,只有<code>get set delete has</code>四个方法</li>
<li>由于<code>weakSet</code>不能被垃圾回收机制自动回收,需要慎重使用</li>
</ul>
</li>
</ul>
<h3 id="迭代器接口-1"><a href="#迭代器接口-1" class="headerlink" title="迭代器接口"></a>迭代器接口</h3><ul>
<li><code>es6</code>中只实现了迭代器接口(<code>Symbol.iterator</code>),没有实现迭代器接口类,四种情况会实现迭代器接口<ul>
<li>使用迭代器接口方法,入keys/values/entries</li>
<li>在解构的时候</li>
<li>在创建map/set对象时候</li>
<li>使用for-of循环时</li>
</ul>
</li>
<li>迭代器作用<ul>
<li>定义我们访问数据的次序</li>
<li>为<code>for-of</code>提供了访问数据方式</li>
<li>让所有数据具备统一接口,可以方便快捷获取数据</li>
<li>注意:类数组对象实现了迭代器接口,对象没有实现</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span>&gt;</span>1-1-1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span>&gt;</span>2-2-2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span>&gt;</span>3-3-3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">     <span class="comment">//类数组对象实现迭代器接口</span></span></span><br><span class="line"><span class="javascript">     <span class="keyword">let</span> divs = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;div&quot;</span>);</span></span><br><span class="line"><span class="javascript">     <span class="built_in">console</span>.log(divs);</span></span><br><span class="line"><span class="javascript">     <span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> divs) &#123;</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(item);</span></span><br><span class="line">     &#125;</span><br><span class="line"><span class="javascript">     <span class="comment">//定义函数</span></span></span><br><span class="line"><span class="javascript">     <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span></span><br><span class="line"><span class="javascript">       <span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> <span class="built_in">arguments</span>) &#123;</span></span><br><span class="line"><span class="javascript">         <span class="built_in">console</span>.log(item); <span class="comment">//1 2 3</span></span></span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     demo(1, 2, 3);</span><br><span class="line"><span class="javascript">     <span class="comment">//对象没有实现迭代器接口 不能使用forof循环遍历</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">     <span class="comment">//自定义类数组对象</span></span></span><br><span class="line"><span class="javascript">     <span class="keyword">let</span> arrLike = &#123;</span></span><br><span class="line"><span class="javascript">       <span class="number">0</span>: <span class="string">&quot;green&quot;</span>,</span></span><br><span class="line"><span class="javascript">       <span class="number">1</span>: <span class="string">&quot;red&quot;</span>,</span></span><br><span class="line"><span class="javascript">       <span class="number">2</span>: <span class="string">&quot;blue&quot;</span>,</span></span><br><span class="line">       length: 3,</span><br><span class="line"><span class="javascript">       <span class="comment">//为使用for-of 这里只有迭代器接口 把数组的迭代器接口赋值给该对象(引用数组迭代器接口)</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">// [Symbol.iterator]: Array.prototype[Symbol.iterator],</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">       <span class="comment">//自定义迭代器接口 是一个函数 返回一个具有next方法的对象</span></span></span><br><span class="line"><span class="javascript">       [<span class="built_in">Symbol</span>.iterator]() &#123;</span></span><br><span class="line"><span class="javascript">         <span class="comment">//   console.log(this);</span></span></span><br><span class="line"><span class="javascript">         <span class="comment">//定义当前索引值</span></span></span><br><span class="line"><span class="javascript">         <span class="keyword">let</span> index = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">         <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">           <span class="comment">//利用箭头函数和 让内外this相同</span></span></span><br><span class="line"><span class="javascript">           <span class="comment">//next方法必须要返回一个对象,value表示值,done表示是否完成</span></span></span><br><span class="line"><span class="javascript">           next: <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">             <span class="built_in">console</span>.log(<span class="number">111</span>);</span></span><br><span class="line"><span class="javascript">             <span class="comment">//判断是否超出长度</span></span></span><br><span class="line"><span class="javascript">             <span class="comment">//正确返回,没有遍历完成</span></span></span><br><span class="line"><span class="javascript">             <span class="keyword">if</span> (index &lt; <span class="built_in">this</span>.length) &#123;</span></span><br><span class="line"><span class="javascript">               <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                 value: <span class="built_in">this</span>[index++],</span></span><br><span class="line"><span class="javascript">                 done: <span class="literal">false</span>,</span></span><br><span class="line">               &#125;;</span><br><span class="line"><span class="javascript">             &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">               <span class="comment">//遍历完成返回true</span></span></span><br><span class="line"><span class="javascript">               <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                 value: <span class="literal">undefined</span>,</span></span><br><span class="line"><span class="javascript">                 done: <span class="literal">true</span>,</span></span><br><span class="line">               &#125;;</span><br><span class="line">             &#125;</span><br><span class="line"><span class="javascript">             <span class="comment">//   console.log(this, &quot;inner&quot;);</span></span></span><br><span class="line">           &#125;,</span><br><span class="line">         &#125;;</span><br><span class="line">       &#125;,</span><br><span class="line">     &#125;;</span><br><span class="line"><span class="javascript">     <span class="built_in">console</span>.log(arrLike[<span class="number">2</span>]);</span></span><br><span class="line"><span class="javascript">     <span class="built_in">console</span>.log(arrLike.length);</span></span><br><span class="line"><span class="javascript">     <span class="comment">//此时不能迭代使用forof因为没有实现迭代器接口 下边实现</span></span></span><br><span class="line"><span class="javascript">     <span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> arrLike) &#123;</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(item);</span></span><br><span class="line">     &#125;</span><br><span class="line">   <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="promise"><a href="#promise" class="headerlink" title="promise"></a>promise</h3><h4 id="同步异步-promise"><a href="#同步异步-promise" class="headerlink" title="同步异步 promise"></a>同步异步 promise</h4><ul>
<li><p>Promise是将异步写法变为同步写法的规范</p>
<ul>
<li>只是写法改变,操作没有改变</li>
<li>异步操作: 在回调函数中,一层嵌套一层</li>
<li>同步操作: 将方法写在外部</li>
</ul>
</li>
<li><p>三个状态</p>
<ul>
<li><p>pending 正在执行  resolved 表示操作执行成功  rejected 操作执行失败</p>
</li>
<li><p>状态由pending–&gt;resolved/rejected 操作执行成功/失败</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">/*       //同步操作</span></span><br><span class="line"><span class="comment">    function demo() &#123;</span></span><br><span class="line"><span class="comment">      console.log(&quot;demo run&quot;);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    demo();</span></span><br><span class="line"><span class="comment">    console.log(&quot;next&quot;); */</span></span><br><span class="line">    </span><br><span class="line">  <span class="comment">//异步</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;demo run&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;next&quot;</span>);</span><br><span class="line">  <span class="comment">//将console.log写在异步操作后</span></span><br><span class="line">  <span class="keyword">let</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//异步处理</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">//成功执行resolve</span></span><br><span class="line">      <span class="comment">//   resolve([&quot;操作成功&quot;, 100, 200]);</span></span><br><span class="line">      <span class="comment">// &#125;, 1000);</span></span><br><span class="line">      <span class="comment">// 失败执行reject</span></span><br><span class="line">      reject(<span class="string">&quot;执行失败&quot;</span>, <span class="number">200</span>);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">    </span><br><span class="line">  <span class="built_in">console</span>.log(p); <span class="comment">//Promise &#123;&lt;pending&gt;&#125;表示开始状态是pending状态,[[PromiseState]]: &quot;rejected&quot; 最后状态为没有执行成功状态,表示pending--&gt;rejected</span></span><br><span class="line">  <span class="comment">//操作后接收结果</span></span><br><span class="line">  p.then(</span><br><span class="line">    (value, ...args) =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(value, args);</span><br><span class="line">      <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    (reason, ...args) =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(reason, args);</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">    <span class="comment">//链式调用</span></span><br><span class="line">    .then(<span class="function">(<span class="params">...args</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;第二次执行了&quot;</span>, args);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="实现promise"><a href="#实现promise" class="headerlink" title="实现promise"></a>实现promise</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//实现promise</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">MyPromise</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">   <span class="comment">//维护状态</span></span><br><span class="line">   <span class="built_in">this</span>.status = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line">   <span class="comment">//存储回调函数</span></span><br><span class="line">   <span class="built_in">this</span>.successArray = [];</span><br><span class="line">   <span class="built_in">this</span>.failArray = [];</span><br><span class="line"></span><br><span class="line">   <span class="comment">//定义resolve和reject方法</span></span><br><span class="line">   <span class="keyword">let</span> resolve = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="comment">//改变状态</span></span><br><span class="line">     <span class="built_in">this</span>.status = <span class="string">&quot;resolved&quot;</span>;</span><br><span class="line">     <span class="comment">/*//执行回调函数</span></span><br><span class="line"><span class="comment">     this.successArray.forEach((fn) =&gt; &#123;</span></span><br><span class="line"><span class="comment">       //存储该函数执行结果 在下一个函数执行的时候传递</span></span><br><span class="line"><span class="comment">       let value = fn(value); */</span></span><br><span class="line">     <span class="comment">//简写</span></span><br><span class="line">     <span class="built_in">this</span>.successArray.forEach(<span class="function">(<span class="params">fn</span>) =&gt;</span> (value = fn(value)));</span><br><span class="line">     <span class="comment">//清空函数队列</span></span><br><span class="line">     <span class="built_in">this</span>.successArray = [];</span><br><span class="line">     <span class="comment">//存储新value</span></span><br><span class="line">     <span class="built_in">this</span>.value = value;</span><br><span class="line">   &#125;;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> reject = <span class="function">(<span class="params">reason</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="comment">//改变状态</span></span><br><span class="line">     <span class="built_in">this</span>.status = <span class="string">&quot;rejected&quot;</span>;</span><br><span class="line">     <span class="comment">//执行函数</span></span><br><span class="line">     <span class="built_in">this</span>.failArray.forEach(<span class="function">(<span class="params">fn</span>) =&gt;</span> (reson = fn(reason)));</span><br><span class="line">     <span class="comment">//清空队列</span></span><br><span class="line">     <span class="built_in">this</span>.failArray = [];</span><br><span class="line">     <span class="comment">//存储数据</span></span><br><span class="line">     <span class="built_in">this</span>.reason = reason;</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="comment">//执行回调函数 回调函数有两个参数</span></span><br><span class="line">   <span class="keyword">try</span> &#123;</span><br><span class="line">     callback(resolve, reject);</span><br><span class="line">   &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">     reject(error);</span><br><span class="line">   &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">     <span class="comment">//无论有没有错误都执行这里代码</span></span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> MyPromise.prototype.then = <span class="function"><span class="keyword">function</span> (<span class="params">success, fail</span>) </span>&#123;</span><br><span class="line">   <span class="comment">//判断当前状态</span></span><br><span class="line">   <span class="keyword">if</span> (<span class="built_in">this</span>.status === <span class="string">&quot;pending&quot;</span>) &#123;</span><br><span class="line">     <span class="comment">//存储回调函数</span></span><br><span class="line">     success &amp;&amp; <span class="built_in">this</span>.successArray.push(success);</span><br><span class="line">     fail &amp;&amp; <span class="built_in">this</span>.failArray.push(fail);</span><br><span class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.status === <span class="string">&quot;resolved&quot;</span>) &#123;</span><br><span class="line">     <span class="comment">//立即执行</span></span><br><span class="line">     success &amp;&amp; success(<span class="built_in">this</span>.value);</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     fail &amp;&amp; fail(<span class="built_in">this</span>.reason);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//谁调用then this就是谁 将来的promise对象 源代码这里应该返回新的promise对象</span></span><br><span class="line">   <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure>

<p><strong>promise实例方法</strong></p>
<ul>
<li>.then<ul>
<li>可以监听状态成功或是失败</li>
<li>定义多个then方法,此时后一个then可以监听前一个then的成功或失败</li>
</ul>
</li>
<li>.catch<ul>
<li>可以监听状态失败的方法</li>
<li>失败只能被监听一次,但可以被后面的then继续监听</li>
</ul>
</li>
<li>.finally<ul>
<li>无论成功还是失败都执行方法</li>
<li>无法接收数据</li>
<li>也会返回一个Promise实例</li>
</ul>
</li>
</ul>
<p><strong>Promise构造函数的方法</strong></p>
<ul>
<li><p>all</p>
<ul>
<li><p>监听多个Promise对象,参数为一个数组,数组中每一项都是Promise对象</p>
</li>
<li><p>then方法监听改变,一个失败,则执行reject方法,不论成功还是失败,返回值为数组,数组中每个成员对应每一个promise返回的数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;第一个异步执行完毕&#x27;</span>)  </span><br><span class="line">        resolve(<span class="string">&#x27;first&#x27;</span>);</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> p2=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;第二个异步执行完毕&#x27;</span>)  </span><br><span class="line">        resolve(<span class="string">&#x27;second&#x27;</span>);</span><br><span class="line">    &#125;,<span class="number">2000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//都执行完毕,打印success</span></span><br><span class="line"><span class="built_in">Promise</span>.all([p1,p2]).then(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value)</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span><span class="built_in">console</span>.log(reason))<span class="comment">//[&quot;first&quot;, &quot;second&quot;]</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>race</p>
<ul>
<li><p><code>race</code>用于监听多个Promise对象,参数为一个数组,数组中每一项都是Promise对象</p>
</li>
<li><p>一个请求成功/失败就立即执行.then对应成功或失败方法</p>
</li>
<li><p>返回值是状态改变时传递的参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;第一个异步执行完毕&#x27;</span>)  </span><br><span class="line">        resolve(<span class="string">&#x27;first&#x27;</span>);</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> p2=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;第二个异步执行完毕&#x27;</span>)  </span><br><span class="line">        resolve(<span class="string">&#x27;second&#x27;</span>);</span><br><span class="line">    &#125;,<span class="number">2000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//都执行完毕,打印success</span></span><br><span class="line"><span class="built_in">Promise</span>.race([p1,p2]).then(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value)</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span><span class="built_in">console</span>.log(reason))<span class="comment">//first</span></span><br></pre></td></tr></table></figure></li>
<li><p>监听哪一个先完成使用race,监听都完成使用all</p>
</li>
</ul>
</li>
<li><p>resolve</p>
<ul>
<li>Promise的静态方法,返回一个可以监听resolved状态的promise对象</li>
<li>参数<ul>
<li><code>js</code>数据,此时then方法会立即执行(then方法接收的数据是该数据)</li>
<li>promise对象</li>
<li><code>thenable</code>参数(带有then方法的对象)</li>
</ul>
</li>
</ul>
</li>
<li><p>reject </p>
<ul>
<li>Promise的静态方法,返回一个可以监听rejected状态的promise对象</li>
<li>then方法监听失败,回调函数参数是reject方法参数(错误描述信息)</li>
<li>不论reject是什么数据,then都执行失败回调</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//定义Promise</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">//1.数据</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> p1 = <span class="built_in">Promise</span>.resolve(<span class="number">100</span>);</span></span><br><span class="line"><span class="javascript">  p1 = <span class="built_in">Promise</span>.resolve([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span></span><br><span class="line"><span class="javascript">  <span class="comment">//2.promise对象</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="number">212</span>);</span></span><br><span class="line"><span class="javascript">  p1 = <span class="built_in">Promise</span>.resolve(</span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line">        resolve(100);</span><br><span class="line">      &#125;, 1000);</span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="number">33</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">//3.thenable对象</span></span></span><br><span class="line"><span class="javascript">  p1 = <span class="built_in">Promise</span>.resolve(&#123;</span></span><br><span class="line"><span class="javascript">    color: <span class="string">&quot;red&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="comment">//then方法</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">then</span>(<span class="params">resolve, reject</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">//   console.log(arguments);</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//异步操作</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line">        resolve(500);</span><br><span class="line">      &#125;, 1000);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">//监听失败</span></span></span><br><span class="line"><span class="javascript">  p1 = <span class="built_in">Promise</span>.reject(<span class="number">100</span>);</span></span><br><span class="line">  </span><br><span class="line">  p1.then(</span><br><span class="line"><span class="javascript">    <span class="comment">//成功</span></span></span><br><span class="line"><span class="javascript">    (value) =&gt; <span class="built_in">console</span>.log(<span class="string">&quot;success&quot;</span>, value),</span></span><br><span class="line"><span class="javascript">    <span class="comment">//失败</span></span></span><br><span class="line"><span class="javascript">    (reason) =&gt; <span class="built_in">console</span>.log(<span class="string">&quot;fail&quot;</span>, reason)</span></span><br><span class="line">  );</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="类"><a href="#类" class="headerlink" title="类"></a>类</h4><ul>
<li><p>语法<code>calss 类名&#123;&#125;</code></p>
<ul>
<li><p><code>es6</code>之前定义类 :<code>function People(title)&#123;this.title=title&#125;</code>使用new调用</p>
</li>
<li><p>类中可以定义三类数据 </p>
<ul>
<li><p>第一种实例数据</p>
<ul>
<li>可以通过constructor构造函数定义<strong>自身属性或方法,这类数据会被当前实例化对象所访问</strong></li>
</ul>
</li>
<li><p>第二类原型数据</p>
<ul>
<li><p>直接在类体中定义原型方法,<strong>这些方法定义在原型上</strong></p>
</li>
<li><p><strong>定义原型属性数据,必须要使用get,set设置特性方式来定义:get取值器,set取值器</strong></p>
<p>由于对<strong>数据(方法没有在实例上)<strong>设置了特性,在查看对象时候,这</strong>些数据将展示在实例对象上</strong></p>
</li>
</ul>
</li>
<li><p>第三类</p>
<ul>
<li><p>静态数据(<strong>通过类直接访问,而实例化对象不能直接访问</strong>)</p>
</li>
<li><p>两种方式:</p>
<ol>
<li><p>直接在类体中,在数据前面加上static关键字</p>
</li>
<li><p>在类体外部,直接为类添加数据</p>
</li>
<li><p>区别:</p>
<p>类体中添加的静态数据设置了特性,类体外添加的静态数据,没有设置特性</p>
</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// function Book()&#123;&#125;使用new</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">//定义类</span></span></span><br><span class="line"><span class="javascript">  <span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//构造器函数</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">constructor</span>(<span class="params">title, price</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">//存储数据</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//定义的属性为实例属性</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.title = title;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.price = price;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.colors = [<span class="string">&quot;red&quot;</span>, <span class="string">&quot;yellow&quot;</span>, <span class="string">&quot;white&quot;</span>];</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="comment">//原型方法</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//定义在原型上</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">getTitle</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.title);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">getPrice</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.price);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="comment">//原型属性 设置了特性,因此在实例对象自身可以看到,本质上是往自身实例对象添加属性</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">get</span> <span class="title">num</span>() &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="built_in">this</span>._num;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">set</span> <span class="title">num</span>(<span class="params">val</span>) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>._num = val;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">get</span> <span class="title">arr</span>() &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="built_in">this</span>._arr;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">set</span> <span class="title">arr</span>(<span class="params">ar</span>) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>._arr = ar;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="comment">//静态数据</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">static</span> <span class="keyword">get</span> <span class="title">writer</span>() &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="string">&quot;zhang he&quot;</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="comment">//静态方法</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">static</span> <span class="function"><span class="title">getWriter</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="built_in">this</span>.writer;<span class="comment">//这个writer将通过get writer的writer()的返回值得到</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="comment">//在类的外边静态数据通过点语法定义</span></span></span><br><span class="line"><span class="javascript">  Book.msg = <span class="string">&quot;hello&quot;</span>;</span></span><br><span class="line"><span class="javascript">  Book.getMsg = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="built_in">this</span>.msg;</span></span><br><span class="line">  &#125;;</span><br><span class="line"><span class="javascript">  <span class="comment">//实例化</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> b1 = <span class="keyword">new</span> Book(<span class="string">&quot;js&quot;</span>, <span class="number">59</span>);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> b2 = <span class="keyword">new</span> Book(<span class="string">&quot;js2&quot;</span>, <span class="number">60</span>);</span></span><br><span class="line">  b1.num = 200;</span><br><span class="line">  b1.arr = [1, 2, 3];</span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(b1, b2);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(b1.colors === b2.colors); <span class="comment">//false 实例属性一个与一个不同</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(b1.getPrice === b2.getPrice); <span class="comment">//true 原型属性共享数据相同</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(b1.arr === b2.arr); <span class="comment">//false</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">//实例对象无法访问静态属性</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(b1.writer, b2.msg); <span class="comment">//undefined undefined</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">//静态数据通过类来访问</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(Book.writer, Book.msg, Book.getWriter(), Book.getMsg()); <span class="comment">//zhang he hello zhang he hello</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//承接类的代码 </span></span><br><span class="line"><span class="comment">//继承</span></span><br><span class="line">     <span class="class"><span class="keyword">class</span> <span class="title">JsBook</span> <span class="keyword">extends</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line">       <span class="comment">//重写属性和方法</span></span><br><span class="line">       <span class="comment">//创建构造函数</span></span><br><span class="line">       <span class="function"><span class="title">constructor</span>(<span class="params">title, price, score</span>)</span> &#123;</span><br><span class="line">         <span class="comment">//通过super关键字实现构造函数继承</span></span><br><span class="line">         <span class="built_in">super</span>(title, price);</span><br><span class="line">         <span class="built_in">this</span>.score = score;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//重写原型属性</span></span><br><span class="line">       <span class="keyword">get</span> <span class="title">time</span>() &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="number">2021</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//重新原型方法 原型方法加在原型上</span></span><br><span class="line">       <span class="function"><span class="title">getTime</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="string">&quot;2021-5&quot;</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="comment">//静态属性</span></span><br><span class="line">       <span class="keyword">static</span> <span class="function"><span class="title">getWidth</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment">//创建Js书</span></span><br><span class="line">     <span class="keyword">var</span> jb = <span class="keyword">new</span> JsBook(<span class="string">&quot;js书&quot;</span>, <span class="number">60</span>, <span class="number">100</span>);</span><br><span class="line">     <span class="built_in">console</span>.log(jb, jb.getTime()); <span class="comment">// 这里的jb实例对象调用了其原型的方法 &quot;2021-5&quot;</span></span><br><span class="line">     <span class="built_in">console</span>.log(JsBook.getWidth());</span><br></pre></td></tr></table></figure>



<h1 id="小知识"><a href="#小知识" class="headerlink" title="小知识"></a>小知识</h1><h2 id="for"><a href="#for" class="headerlink" title=" for"></a><code> for</code></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//遍历数组时</span></span><br><span class="line"><span class="keyword">const</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> arr)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);<span class="comment">//0 1 2 打印的是索引</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> v <span class="keyword">of</span> arr)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(v)<span class="comment">//1 2 3 打印的是索引对应的值   数组可以迭代,所以可以用for..of</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj=&#123;</span><br><span class="line">    name:<span class="string">&#x27;haley&#x27;</span>,</span><br><span class="line">    age:<span class="number">28</span></span><br><span class="line">          &#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">in</span> obj)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k);<span class="comment">//name  age  打印属性名</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//对象没有迭代器 所以不能进行for of遍历  只能通过for..in遍历出属性名在得到属性值</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> obj)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(obj[i]);<span class="comment">// 28 haley  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="阻止冒泡和默认事件"><a href="#阻止冒泡和默认事件" class="headerlink" title="阻止冒泡和默认事件"></a><strong>阻止冒泡和默认事件</strong></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">阻止默认事件：</span><br><span class="line">e.preventDefault()</span><br><span class="line">e.returnValue = <span class="literal">false</span>  (IE)</span><br><span class="line">阻止冒泡：</span><br><span class="line">e.stopPropagation()</span><br><span class="line">e.cancelBubble = <span class="literal">true</span> (IE)</span><br></pre></td></tr></table></figure>

<h2 id="形参和声明提升"><a href="#形参和声明提升" class="headerlink" title="形参和声明提升"></a>形参和声明提升</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;<span class="attr">n</span>:<span class="number">1</span>&#125;;</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">foo</span>)</span>&#123;            <span class="comment">//形参foo同实参foo一样指向同一片内存空间，这个空间里的n的值为1</span></span><br><span class="line">    <span class="keyword">var</span> foo;               <span class="comment">//优先级低于形参，无效。</span></span><br><span class="line">    <span class="built_in">console</span>.log(foo.n);    <span class="comment">//输出1</span></span><br><span class="line">    foo.n = <span class="number">3</span>;             <span class="comment">//形参与实参foo指向的内存空间里的n的值被改为3</span></span><br><span class="line">    foo = &#123;<span class="attr">n</span>:<span class="number">2</span>&#125;;           <span class="comment">//形参foo指向了新的内存空间，里面n的值为2.</span></span><br><span class="line">    <span class="built_in">console</span>.log(foo.n);    <span class="comment">//输出新的内存空间的n的值</span></span><br><span class="line">&#125;)(foo);</span><br><span class="line"><span class="built_in">console</span>.log(foo.n);        <span class="comment">//实参foo的指向还是原来的内存空间，里面的n的值为3.</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="其他-1"><a href="#其他-1" class="headerlink" title="其他"></a>其他</h2><ul>
<li>不支持冒泡事件</li>
</ul>
<p>妈（<code>mouseenter</code>）妈(<code>mouseleave</code>)不(blur)放(<code>focus</code>)心你(<code>load</code>,<code>unload</code>,<code>resize</code>)</p>
<ul>
<li><p>标准盒子模型 ＝ margin + border + padding + width （width = content ）</p>
<p>IE盒子模型 ＝ margin + width（width = border + padding + content ）</p>
</li>
<li><pre><code class="js">ele.clientWidth = 宽度 + padding
ele.offsetWidth = 宽度 + padding + border
</code></pre>
</li>
<li><p>.<strong>箭头函数</strong>不能调用<code>Funciton</code>的<code>bind</code>、<code>apply</code>、<code>call</code>方法（Function类具有的方法），<strong>没有继承Function类</strong></p>
</li>
<li><p><code>DHTML</code>具有三个主要优点：动态样式、动态内容、动态定位</p>
</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JS/" rel="tag"># JS</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/04/24/JS%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0(%E4%B8%8B)/" rel="next" title="JS基础学习（下）">
                <i class="fa fa-chevron-left"></i> JS基础学习（下）
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/04/28/vue%E5%9F%BA%E7%A1%80/" rel="prev" title="vue基础">
                vue基础 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#ES6"><span class="nav-number">1.</span> <span class="nav-text">ES6</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#let-const"><span class="nav-number">1.1.</span> <span class="nav-text">let const</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">1.2.</span> <span class="nav-text">字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">1.2.1.</span> <span class="nav-text">多行字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E5%A7%8B-%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">1.2.2.</span> <span class="nav-text">原始&#x2F;重复字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%BD%8D%E7%BD%AE"><span class="nav-number">1.2.3.</span> <span class="nav-text">字符串位置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E6%8B%93%E5%B1%95"><span class="nav-number">1.3.</span> <span class="nav-text">数字拓展</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E6%8B%93%E5%B1%95"><span class="nav-number">1.4.</span> <span class="nav-text">对象拓展</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="nav-number">1.4.1.</span> <span class="nav-text">对象属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#is%E6%96%B9%E6%B3%95"><span class="nav-number">1.4.2.</span> <span class="nav-text">is方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#assign%E6%96%B9%E6%B3%95"><span class="nav-number">1.4.3.</span> <span class="nav-text">assign方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E6%8B%93%E5%B1%95"><span class="nav-number">1.5.</span> <span class="nav-text">数组拓展</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Array-from"><span class="nav-number">1.5.1.</span> <span class="nav-text">Array.from()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Array-of"><span class="nav-number">1.5.2.</span> <span class="nav-text">Array.of()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E6%9F%A5%E6%89%BE"><span class="nav-number">1.5.3.</span> <span class="nav-text">数组查找</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E5%86%85%E9%83%A8%E5%A4%8D%E5%88%B6"><span class="nav-number">1.5.4.</span> <span class="nav-text">数组内部复制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%8E%A5%E5%8F%A3"><span class="nav-number">1.5.5.</span> <span class="nav-text">迭代器接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for-of"><span class="nav-number">1.5.6.</span> <span class="nav-text">for of</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E8%A7%A3%E6%9E%84"><span class="nav-number">1.5.7.</span> <span class="nav-text">数组解构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#generator%E5%87%BD%E6%95%B0"><span class="nav-number">1.6.</span> <span class="nav-text">generator函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8"><span class="nav-number">1.6.1.</span> <span class="nav-text">简单使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#generator%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%92"><span class="nav-number">1.6.2.</span> <span class="nav-text">generator数据传递</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#return%E5%92%8Cthrow"><span class="nav-number">1.6.3.</span> <span class="nav-text">return和throw</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#yield-%E4%B8%89%E4%B8%AA%E7%82%B9-this"><span class="nav-number">1.6.4.</span> <span class="nav-text">yield 三个点 this</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C"><span class="nav-number">1.6.5.</span> <span class="nav-text">处理串行异步操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E6%8B%93%E5%B1%95"><span class="nav-number">1.7.</span> <span class="nav-text">函数拓展</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0"><span class="nav-number">1.7.1.</span> <span class="nav-text">默认参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%89%A9%E4%BD%99%E8%AE%A4%E5%8F%82%E6%95%B0"><span class="nav-number">1.7.2.</span> <span class="nav-text">获取剩余认参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="nav-number">1.7.3.</span> <span class="nav-text">箭头函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-number">1.8.</span> <span class="nav-text">其他</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Symbol"><span class="nav-number">1.8.1.</span> <span class="nav-text">Symbol</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%90%86"><span class="nav-number">1.8.2.</span> <span class="nav-text">代理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reflect"><span class="nav-number">1.8.3.</span> <span class="nav-text">Reflect</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%81%9A%E5%90%88%E6%95%B0%E6%8D%AE"><span class="nav-number">1.8.4.</span> <span class="nav-text">聚合数据</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#set%E5%92%8CWeakSet"><span class="nav-number">1.8.4.1.</span> <span class="nav-text">set和WeakSet</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Map%E5%92%8CWeakMap"><span class="nav-number">1.8.4.2.</span> <span class="nav-text">Map和WeakMap</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%8E%A5%E5%8F%A3-1"><span class="nav-number">1.8.5.</span> <span class="nav-text">迭代器接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#promise"><span class="nav-number">1.8.6.</span> <span class="nav-text">promise</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5-promise"><span class="nav-number">1.8.6.1.</span> <span class="nav-text">同步异步 promise</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0promise"><span class="nav-number">1.8.6.2.</span> <span class="nav-text">实现promise</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB"><span class="nav-number">1.8.6.3.</span> <span class="nav-text">类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF"><span class="nav-number">1.8.6.4.</span> <span class="nav-text">继承</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B0%8F%E7%9F%A5%E8%AF%86"><span class="nav-number">2.</span> <span class="nav-text">小知识</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#for"><span class="nav-number">2.1.</span> <span class="nav-text"> for</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%BB%E6%AD%A2%E5%86%92%E6%B3%A1%E5%92%8C%E9%BB%98%E8%AE%A4%E4%BA%8B%E4%BB%B6"><span class="nav-number">2.2.</span> <span class="nav-text">阻止冒泡和默认事件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BD%A2%E5%8F%82%E5%92%8C%E5%A3%B0%E6%98%8E%E6%8F%90%E5%8D%87"><span class="nav-number">2.3.</span> <span class="nav-text">形参和声明提升</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B6%E4%BB%96-1"><span class="nav-number">2.4.</span> <span class="nav-text">其他</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">haley06</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
